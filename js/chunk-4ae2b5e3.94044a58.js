(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ae2b5e3"],{1:function(t,e){},1132:function(t,e,n){(function(e,r){t.exports=r(n("21bf"))})(0,(function(t){return function(){var e=t,n=e.lib,r=n.WordArray,i=e.enc;i.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=e[o>>>2]>>>24-o%4*8&255,a=e[o+1>>>2]>>>24-(o+1)%4*8&255,c=e[o+2>>>2]>>>24-(o+2)%4*8&255,u=s<<16|a<<8|c,h=0;h<4&&o+.75*h<n;h++)i.push(r.charAt(u>>>6*(3-h)&63));var f=r.charAt(64);if(f)while(i.length%4)i.push(f);return i.join("")},parse:function(t){var e=t.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var i=0;i<n.length;i++)r[n.charCodeAt(i)]=i}var s=n.charAt(64);if(s){var a=t.indexOf(s);-1!==a&&(e=a)}return o(t,e,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(t,e,n){for(var i=[],o=0,s=0;s<e;s++)if(s%4){var a=n[t.charCodeAt(s-1)]<<s%4*2,c=n[t.charCodeAt(s)]>>>6-s%4*2,u=a|c;i[o>>>2]|=u<<24-o%4*8,o++}return r.create(i,o)}}(),t.enc.Base64}))},"21bf":function(t,e,n){(function(e){(function(e,n){t.exports=n()})(0,(function(){var t=t||function(t,r){var i;if("undefined"!==typeof window&&window.crypto&&(i=window.crypto),"undefined"!==typeof self&&self.crypto&&(i=self.crypto),"undefined"!==typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!==typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&"undefined"!==typeof e&&e.crypto&&(i=e.crypto),!i)try{i=n(1)}catch(v){}var o=function(){if(i){if("function"===typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(v){}if("function"===typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(v){}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),a={},c=a.lib={},u=c.Base=function(){return{extend:function(t){var e=s(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=c.WordArray=u.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=e!=r?e:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var a=0;a<i;a+=4)e[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=u.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(o());return new h.init(e,t)}}),f=a.enc={},l=f.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new h.init(n,e/2)}},d=f.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new h.init(n,e)}},p=f.Utf8={stringify:function(t){try{return decodeURIComponent(escape(d.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return d.parse(unescape(encodeURIComponent(t)))}},g=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=p.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,r=this._data,i=r.words,o=r.sigBytes,s=this.blockSize,a=4*s,c=o/a;c=e?t.ceil(c):t.max((0|c)-this._minBufferSize,0);var u=c*s,f=t.min(4*u,o);if(u){for(var l=0;l<u;l+=s)this._doProcessBlock(i,l);n=i.splice(0,u),r.sigBytes-=f}return new h.init(n,f)},clone:function(){var t=u.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),w=(c.Hasher=g.extend({cfg:u.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new w.HMAC.init(t,n).finalize(e)}}}),a.algo={});return a}(Math);return t}))}).call(this,n("c8ba"))},"625b":function(t,e,n){"use strict";n.r(e);var r=n("7a23"),i={class:"d-flex flex-column min-vh-100 justify-content-center align-items-center"},o=["src"];function s(t,e){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",i,[Object(r["createElementVNode"])("img",{src:t.context+"img/loading.svg"},null,8,o)])}var a=n("9ab4"),c=n("f1e8"),u=n("94f8"),h=n.n(u),f=n("1132"),l=n.n(f),d=n("5502"),p=Object(r["defineComponent"])({name:"Callback",data:function(){return{context:"/demo/"}},setup:function(){var t=Object(d["b"])();return{store:t}},methods:{error:function(t,e){Object(d["b"])();this.store.commit("removeToken"),this.$auth.logout({returnTo:window.location.origin+this.context+"error?error="+encodeURI(t)+"&error_description="+encodeURI(e)})},changePassword:function(t,e,n){return Object(a["b"])(this,void 0,void 0,(function(){var r,i,o,s;return Object(a["c"])(this,(function(a){switch(a.label){case 0:return r=new Headers,r.append("Authorization","Token "+n),i=new FormData,i.append("new_password",l.a.stringify(h()(t))),i.append("current_password",l.a.stringify(h()(e))),o={method:"POST",headers:r,body:i},[4,fetch("https://api.boto.io/auth/users/set_password/",o)];case 1:return s=a.sent(),[2,s]}}))}))},login:function(t,e){return Object(a["b"])(this,void 0,void 0,(function(){var n,r,i;return Object(a["c"])(this,(function(o){switch(o.label){case 0:return n=new FormData,n.append("username",t),n.append("password",l.a.stringify(h()(e))),r={method:"POST",body:n},[4,fetch("https://api.boto.io/auth/token/login",r)];case 1:return i=o.sent(),[2,i]}}))}))},newUser:function(t,e){return Object(a["b"])(this,void 0,void 0,(function(){var n,r,i;return Object(a["c"])(this,(function(o){switch(o.label){case 0:return n=new FormData,n.append("username",t),n.append("password",l.a.stringify(h()(e))),r={method:"POST",body:n},[4,fetch("https://api.boto.io/auth/users/",r)];case 1:return i=o.sent(),[2,i]}}))}))},happyPathLogin:function(t,e,n){return Object(a["b"])(this,void 0,void 0,(function(){var r,i;return Object(a["c"])(this,(function(o){switch(o.label){case 0:return[4,t.json()];case 1:return r=o.sent(),i=e?"editor":"dashboard",n.commit("setAuthToken",r.auth_token),c["a"].push({path:i}),[2]}}))}))}},created:function(){return Object(a["b"])(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,u,h,f,l,p,g,w,v,y;return Object(a["c"])(this,(function(a){switch(a.label){case 0:return this.$route.query.error?(this.error(this.$route.query.error.toString(),this.$route.query.error_description.toString()),[3,24]):[3,1];case 1:t=Object(d["b"])(),e=t.getters.localStorageTemplate,n=this.$auth,r=n.user.value.sub,console.log("callback auth",n.user),i=n.user.value.email,a.label=2;case 2:return a.trys.push([2,23,,24]),[4,this.newUser(i,r)];case 3:return o=a.sent(),[4,o.json()];case 4:return s=a.sent(),s.username?[4,this.login(i,r)]:[3,21];case 5:return u=a.sent(),u.ok?[4,this.happyPathLogin(u,e,t)]:[3,7];case 6:return a.sent(),[3,20];case 7:return console.log("error with login",n),400!==u.status?[3,19]:n.user.value.sub.includes("google-oauth2")?[4,this.login(i,n.user.value.sub.replace("google-oauth2","auth0"))]:[3,10];case 8:return h=a.sent(),[4,this.happyPathLogin(h,e,t)];case 9:return a.sent(),[3,13];case 10:return n.user.value.sub.includes("auth0")?[4,this.login(i,n.user.value.sub.replace("auth0","google-oauth2"))]:[3,13];case 11:return h=a.sent(),[4,this.happyPathLogin(h,e,t)];case 12:a.sent(),a.label=13;case 13:return[4,this.login(i,n.sub)];case 14:return f=a.sent(),[4,f.json()];case 15:return l=a.sent(),[4,this.changePassword(n.user.value.sub,n.sub,l.auth_token)];case 16:return a.sent(),[4,this.login(i,n.user.value.sub)];case 17:return p=a.sent(),[4,p.json()];case 18:return g=a.sent(),p.ok?(w=e?"editor":"dashboard",t.commit("setAuthToken",g.auth_token),c["a"].push({path:w})):(v=g.non_field_errors[0],this.error("There was an error with the request ("+v+")",v)),[3,20];case 19:this.error("There was an error with the request ("+u.status+")",u.statusText),a.label=20;case 20:return[3,22];case 21:this.error("There was an error with the request.","400"),a.label=22;case 22:return[3,24];case 23:return y=a.sent(),this.error("There was an error with the request.",y),[3,24];case 24:return[2]}}))}))}}),g=n("6b0d"),w=n.n(g);const v=w()(p,[["render",s]]);e["default"]=v},"94f8":function(t,e,n){(function(e,r){t.exports=r(n("21bf"))})(0,(function(t){return function(e){var n=t,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=[],c=[];(function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}var r=2,i=0;while(i<64)t(r)&&(i<8&&(a[i]=n(e.pow(r,.5))),c[i]=n(e.pow(r,1/3)),i++),r++})();var u=[],h=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],h=n[5],f=n[6],l=n[7],d=0;d<64;d++){if(d<16)u[d]=0|t[e+d];else{var p=u[d-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,w=u[d-2],v=(w<<15|w>>>17)^(w<<13|w>>>19)^w>>>10;u[d]=g+u[d-7]+v+u[d-16]}var y=a&h^~a&f,b=r&i^r&o^i&o,m=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),_=(a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25),B=l+_+y+c[d]+u[d],j=m+b;l=f,f=h,h=a,a=s+B|0,s=o,o=i,i=r,r=B+j|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+h|0,n[6]=n[6]+f|0,n[7]=n[7]+l|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});n.SHA256=o._createHelper(h),n.HmacSHA256=o._createHmacHelper(h)}(Math),t.SHA256}))}}]);
//# sourceMappingURL=chunk-4ae2b5e3.94044a58.js.map