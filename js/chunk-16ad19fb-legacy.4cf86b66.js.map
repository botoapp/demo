{"version":3,"sources":["webpack:///./src/components/PlaceHolders/MenuBlockPlaceHolder/MenuBlockPlaceHolder.css?6bcd","webpack:///./src/modules/Editor/Editor.css?13fd","webpack:///./src/components/MenuBlock/MenuBlock.css?8953","webpack:///./src/modules/Editor/Editor.html","webpack:///./src/components/BlocksMenu/BlocksMenu.html","webpack:///./src/components/MenuBlock/MenuBlock.html","webpack:///./src/components/MenuBlock/MenuBlock.ts","webpack:///./src/components/MenuBlock/index.vue","webpack:///./src/components/PlaceHolders/MenuBlockPlaceHolder/MenuBlockPlaceHolder.html","webpack:///./src/components/PlaceHolders/MenuBlockPlaceHolder/MenuBlockPlaceHolder.ts","webpack:///./src/components/PlaceHolders/MenuBlockPlaceHolder/index.vue","webpack:///./src/components/BlocksMenu/BlocksMenu.ts","webpack:///./src/components/BlocksMenu/index.vue","webpack:///./src/modules/Editor/Editor.ts","webpack:///./src/modules/Editor/index.vue","webpack:///./src/components/BlocksMenu/BlocksMenu.css?3c24"],"names":["class","ref","isLoading","saveSuccess","saveError","saveErrorText","$route","params","activateDeactivateBoto","type","bot","status","title","activationLoading","clearBot","saveBot","isFlowValid","disabled","usesTemplate","saveLoading","active","can-cancel","color","is-full-page","fullPage","authToken","blocks","key","dfKey","showZoom","editorId","toolsCollapsed","toggleTools","show","style","data-tooltip","searchBlock","placeholder","searchKey","setSearchKey","filter","addFilter","href","sideBarCollapsed","numberOfType","isLoadingData","i","processedItems","length","item","id","data","block_type","toLowerCase","draggable","drag","data-node","data-data","name","description","info_url","target","logo_class","props","Number","blockId","String","Object","computed","blockTypeClass","c","this","methods","ev","dataTransfer","setData","getAttribute","JSON","stringify","render","circle","size","height","components","Skeletor","items","Boolean","MenuBlock","MenuBlockPlaceHolder","watch","handler","val","filteredItems","created","EventEmitter","emitter","on","value","el","toUpperCase","indexOf","keys","updateData","filtered","setup","store","open","activationShow","editorAreaHeight","showingToast","AdminLayout","Loading","DrawFlow","BlocksMenu","BotoModal","beforeUnmount","showToast","message","$toast","duration","dismissible","position","cleanSave","vm","setTimeout","commit","$refs","routes","push","cancelActivateBot","activateBot","switchBoto","botId","botName","botFrequency","frequency","botSchedule","schedule","botFrequencyUnit","frequency_unit","console","error","jsonData","export","method","HttpRequestMethod","PUT","POST","url","HttpClient","request","response","headers","Headers","formdata","FormData","append","toString","requestOptions","body","fetch","ok","Error","getBlocks","GET","getBot","resetEventListeners","off","document","addEventListener","e","ctrlKey","preventDefault","mounted","getters","localStorageAuthToken","template","localStorageTemplate","tbot","parse","copy","block","emit"],"mappings":"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","file":"js/chunk-16ad19fb-legacy.4cf86b66.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./MenuBlockPlaceHolder.css?vue&type=style&index=0&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./Editor.css?vue&type=style&index=0&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./MenuBlock.css?vue&type=style&index=0&lang=css\"","<admin-layout>\n\t<div>\n\t\t<div class=\"boto-toolbar\">\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col text-start\">\n\t\t\t\t\t<h3 class=\"ml-3 mt-4\">Boto Editor</h3>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col text-end mt-3 me-4\" v-if=\"!isLoading\">\n\t\t\t\t\t<span class=\"text-success mr-2\" v-if=\"saveSuccess\">Saved!</span>\n\t\t\t\t\t<span class=\"text-danger mr-2\" v-if=\"saveError\">{{ saveErrorText }}</span>\n\t\t\t\t\t<button v-if=\"this.$route.params.id\" @click=\"activateDeactivateBoto()\" type=\"button\" class=\"boto-button large mr-2\" :title=\"`Turn Bot ${bot && bot.status === 'OFF' ? 'On' : 'Off'}`\" :class=\"bot && bot.status === 'OFF' ? 'terciary-btn' : 'stop-action-btn'\">\n\t\t\t\t\t\t<i class=\"fas\" v-if=\"!activationLoading\" :class=\"bot && bot.status === 'OFF' ? 'fa-play' : 'fa-stop'\"></i>\n\t\t\t\t\t\t<i class=\"fas fa fa-spinner \" v-if=\"activationLoading\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button @click=\"clearBot\" type=\"button\" class=\"boto-button large muted mr-2\">\n\t\t\t\t\t\t<i class=\"fas fa-eraser\"></i> Clear\n\t\t\t\t\t</button>\n\t\t\t\t\t<button @click=\"saveBot\" type=\"button\" class=\"boto-button large\" :disabled=\"!isFlowValid\" :class=\"(!isFlowValid) ? 'btn-secondary' : 'primary-btn'\">\n\t\t\t\t\t\t<span v-if=\"!this.bot\">Create Boto</span>\n\t\t\t\t\t\t<span v-if=\"this.bot && !usesTemplate\">Update Boto</span>\n\t\t\t\t\t\t<span v-if=\"this.bot && usesTemplate\">Save this template as a new Boto</span>\n\t\t\t\t\t\t<i class=\"fas fa-check\" v-if=\"saveSuccess\"></i>\n\t\t\t\t\t\t<i class=\"fas fa-circle-notch fa-spin\" v-if=\"saveLoading\"></i>\n\t\t\t\t\t\t<i class=\"fas fa-exclamation-circle\" v-if=\"saveError\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col\" ref=\"editorContainer\">\n\t\t\t\t<loading :active=\"isLoading\" \n\t\t\t\t\t:can-cancel=\"false\"\n\t\t\t\t\tcolor=\"#66B861\"\n\t\t\t\t\t:is-full-page=\"fullPage\"></loading>\n\t\t\t\t<div class=\"ml-3 text-start\">\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t  <draw-flow :key=\"dfKey\" v-if=\"authToken && blocks && !isLoading\" :showZoom=\"true\" :bot=\"bot\" editorId=\"botoEditor\" :usesTemplate=\"usesTemplate\" :authToken=\"authToken\" :blocks=\"blocks\" ref=\"drawflowEditor\"></draw-flow>\n\t\t\t\t\t\t  <div class=\"col text-start mt-2 pt-2 text-muted\" v-if=\"!isLoading\">\n\t\t\t\t\t\t\t<i class=\"far fa-lightbulb\"></i> Save your Bot with CTRL+S\n\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t  </div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"col-3 col-xxl-2 editor-right\" :class=\"toolsCollapsed ? 'tools-collapsed' : 'tools-expanded'\">\n\t\t\t\t<div class=\"row blocks-menu-container-header\">\n\t\t\t\t\t<div class=\"col text-start\">\n\t\t\t\t\t\t<a @click=\"toggleTools()\" class=\"fas\" :class=\"`fa-chevron-${toolsCollapsed ? 'left' : 'right'}`\"></a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col text-end\" v-if=\"!toolsCollapsed\">\n\t\t\t\t\t\tToolbox\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<blocks-menu :show=\"!toolsCollapsed\" :blocks=\"blocks\"></blocks-menu>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</admin-layout>","<div class=\"blocks-menu-container text-start\" :class=\"show ? 'd-block' : 'd-none'\">\n    <div class=\"mt-2 text-muted text-start\">Search</div>\n    <div>\n        <div class=\"input-group\">\n            <input type=\"text\" @keyup=\"searchBlock\" class=\"mt-1 form-control mr-2\" placeholder=\"opensea, nft...\" v-model=\"searchKey\">\n        </div>\n        <ul class=\"ks-cboxtags mt-1\" style=\"margin-bottom: 0px;\">\n            <li class=\"mr-2\">\n                <a @click=\"setSearchKey('discord')\" class=\"text-muted\"><i class=\"fab fa-discord\"></i></a>\n            </li>\n            <li class=\"mr-2\">\n                <a @click=\"setSearchKey('opensea')\" class=\"text-muted\"><i class=\"boto-icon-opensea\"></i></a>\n            </li>\n            <li class=\"mr-2\">\n                <a @click=\"setSearchKey('telegram')\" class=\"text-muted\"><i class=\"fab fa-telegram-plane\"></i></a>\n            </li>\n            <li class=\"mr-2\">\n                <a @click=\"setSearchKey('eth')\" class=\"text-muted\"><i class=\"fab fa-ethereum\"></i></a>\n            </li>\n            <li class=\"mr-2\">\n                <a @click=\"setSearchKey('email')\" class=\"text-muted\"><i class=\"fas fa-envelope\"></i></a>\n            </li>\n            <li class=\"mr-2\">\n                <a @click=\"setSearchKey('')\" class=\"text-muted\"><i class=\"fa fa-times\"></i></a>\n            </li>\n        </ul>\n    </div>\n    <hr>\n    <ul class=\"nav nav-pills h6\">\n        <li class=\"nav-item\" data-tooltip=\"Triggers\">\n          <a class=\"nav-link trigger\" :class=\"filter === 'TRG' ? 'active' : ''\" @click=\"addFilter('TRG')\" href=\"#\"><span v-if=\"sideBarCollapsed\">Trig.</span> <span v-if=\"!sideBarCollapsed\">Trig.</span> ({{ numberOfType('TRG') }})</a>\n        </li>\n        <li class=\"nav-item\" data-tooltip=\"Logic\">\n          <a class=\"nav-link logic\" :class=\"filter === 'LOG' ? 'active' : ''\" @click=\"addFilter('LOG')\" href=\"#\">Log. ({{ numberOfType('LOG') }})</a>\n        </li>\n        <li class=\"nav-item\" data-tooltip=\"Operations\">\n          <a class=\"nav-link operation\" :class=\"filter === 'OPR' ? 'active' : ''\" @click=\"addFilter('OPR')\" href=\"#\">Op ({{ numberOfType('OPR') }})</a>\n        </li>\n        <li class=\"nav-item\" data-tooltip=\"Actions\">\n            <a class=\"nav-link action\" :class=\"filter === 'ACT' ? 'active' : ''\" @click=\"addFilter('ACT')\" href=\"#\"><span>Act. ({{ numberOfType('ACT') }})</span></a>\n          </li>\n      </ul>\n    <hr style=\"background-color: #bfc9c2;\">\n    <div class=\"blocks-menu-blocks\">\n        <div class=\"p-1\" v-if=\"isLoadingData\">\n            <menu-block-place-holder v-for=\"i in 12\"></menu-block-place-holder>\n        </div>\n        <div class=\"text-muted p-3\" v-if=\"processedItems && processedItems.length === 0\">We could not find blocks matching that criteria.</div>\n        <ul class=\"px-1\" v-if=\"!isLoadingData\">\n            <li v-for=\"item in processedItems\">\n                <menu-block :id=\"item.id\" :data=\"item\"></menu-block>\n            </li>\n        </ul>\n    </div>\n</div>","<div class=\"drag-drawflow text-white\" :class=\"`menu-block-${data.block_type.toLowerCase()}`\" draggable=\"true\" v-on:dragstart=\"drag\" :data-node=\"id\" :data-data=\"data\">\n    <div class=\"row\">\n        <div class=\"col-8 pt-2 menu-block-details\" :class=\"`menu-block-details-${data.block_type.toLowerCase()}`\">\n            <h4 class=\"text-white\">{{ data.name }}</h4>\n            <p>\n                {{ data.description }}\n                <a :href=\"data.info_url\" v-if=\"data.info_url\" target=\"_blank\" title=\"More info\"><i class=\"fas fa-info-circle\"></i></a>\n            </p>\n        </div>\n        <div class=\"col h4 pt-3 pe-3 text-white text-center\">\n            <i :class=\"data.logo_class\" class=\"fa-2x\"></i>\n        </div>\n    </div>\n</div>","import { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"MenuBlockComponent\",\n  props: {\n    id: Number,\n    blockId: String,\n    data: Object,\n  },\n  computed: {\n    blockTypeClass() {\n      let c = \"\";\n      switch (this.data!.block_type) {\n        case \"ACT\":\n          c = \"bg-primary\";\n          break;\n        case \"TRG\":\n          c = \"bg-secondary\";\n          break;\n        case \"LOG\":\n          c = \"bg-info\";\n          break;\n        default:\n      }\n      return c;\n    },\n  },\n  methods: {\n    drag(ev: any) {\n      ev.dataTransfer.setData(\"node\", ev.target.getAttribute(\"data-node\"));\n      ev.dataTransfer.setData(\"data\", JSON.stringify(this.data));\n    },\n  },\n});\n","import { render } from \"./MenuBlock.html?vue&type=template&id=23d6ac55\"\nimport script from \"./MenuBlock.ts?vue&type=script&lang=ts\"\nexport * from \"./MenuBlock.ts?vue&type=script&lang=ts\"\n\nimport \"./MenuBlock.css?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","<div class=\"placeholder\">\n    <div class=\"av__placeholder\">\n        <Skeletor circle size=\"48\" />\n    </div>\n    <h4 class=\"h4__placeholder\">\n        <Skeletor height=\"22\" />\n    </h4>\n    <p class=\"p__placeholder\">\n        <Skeletor height=\"16\" />\n    </p>\n    <p class=\"p__placeholder\">\n        <Skeletor height=\"16\" />\n    </p>\n</div>","import { Skeletor } from \"vue-skeletor\";\n\nexport default {\n  name: \"MenuBlockPlaceholderComponent\",\n  components: {\n    Skeletor,\n  },\n};\n","import { render } from \"./MenuBlockPlaceHolder.html?vue&type=template&id=2686d6f4\"\nimport script from \"./MenuBlockPlaceHolder.ts?vue&type=script&lang=ts\"\nexport * from \"./MenuBlockPlaceHolder.ts?vue&type=script&lang=ts\"\n\nimport \"./MenuBlockPlaceHolder.css?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","import MenuBlock from \"@/components/MenuBlock/index.vue\";\nimport MenuBlockPlaceHolder from \"@/components/PlaceHolders/MenuBlockPlaceHolder/index.vue\";\nimport \"vue-skeletor/dist/vue-skeletor.css\";\nimport { defineComponent } from \"vue\";\nimport { Block } from \"@/interfaces/Block\";\nimport EventEmitter from \"@/util/EventEmitter\";\n\nconst items: Block[] = [];\n\nexport default defineComponent({\n  name: \"BlocksMenuComponent\",\n  props: {\n    blocks: Object,\n    show: Boolean,\n  },\n  components: {\n    MenuBlock,\n    MenuBlockPlaceHolder,\n  },\n  watch: {\n    blocks: {\n      handler(val) {\n        this.items = val;\n        this.filteredItems = val;\n        this.processedItems = val;\n        this.isLoadingData = false;\n      },\n    },\n  },\n  data() {\n    return {\n      items,\n      isLoadingData: false,\n      filter: \"\",\n      filteredItems: items,\n      processedItems: items,\n      searchKey: \"\",\n      sideBarCollapsed: false,\n    };\n  },\n  created() {\n    this.isLoadingData = true;\n    EventEmitter.emitter.on(\"sidebar-toggle-sidebar\", (value: boolean) => {\n      this.sideBarCollapsed = value;\n    });\n  },\n  methods: {\n    numberOfType(type: string): number {\n      const items = this.searchKey\n        ? this.items.filter(\n            (el: Block) => el.name.toUpperCase().indexOf(this.searchKey.toUpperCase()) > -1\n          )\n        : this.items;\n      const i = items.filter((el: Block) => type === el.block_type);\n      return Object.keys(i).length;\n    },\n    setSearchKey(key: string) {\n      this.searchKey = key;\n      this.searchBlock();\n    },\n    updateData(data: Block[]) {\n      this.items = data;\n      this.filteredItems = data;\n      this.isLoadingData = false;\n    },\n    searchBlock() {\n      const filtered = this.filteredItems.filter(\n        (el: Block) => el.name.toUpperCase().indexOf(this.searchKey.toUpperCase()) > -1\n      );\n      this.processedItems = filtered;\n    },\n    addFilter(filter: string) {\n      this.filter = this.filter === filter ? \"\" : filter;\n      const filtered = this.items.filter((el: Block) => this.filter === el.block_type);\n      this.filteredItems = this.filter !== \"\" ? filtered : this.items;\n      this.processedItems = this.filteredItems;\n      if (this.searchKey) this.searchBlock();\n    },\n  },\n});\n","import { render } from \"./BlocksMenu.html?vue&type=template&id=2cab1b67\"\nimport script from \"./BlocksMenu.ts?vue&type=script&lang=ts\"\nexport * from \"./BlocksMenu.ts?vue&type=script&lang=ts\"\n\nimport \"./BlocksMenu.css?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","import DrawFlow from \"@/components/DrawFlow/index.vue\";\nimport AdminLayout from \"@/layouts/Admin/index.vue\";\nimport { defineComponent } from \"vue\";\nimport Loading from \"vue3-loading-overlay\";\nimport BlocksMenu from \"@/components/BlocksMenu/index.vue\";\nimport { useStore } from \"vuex\";\nimport routes from \"@/routes\";\nimport EventEmitter from \"@/util/EventEmitter\";\nimport { HttpRequestMethod } from \"@/enums/HttpRequestMethod\";\nimport HttpClient from \"@/util/HttpClient\";\nimport BotoModal from \"@/components/BotoModal/index.vue\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport \"vue-toast-notification/dist/theme-sugar.css\";\nimport \"vue3-loading-overlay/dist/vue3-loading-overlay.css\";\n\nexport default defineComponent({\n  name: \"Editor\",\n  setup() {\n    const store = useStore();\n    return {\n      store,\n    };\n  },\n  data() {\n    return {\n      open: false,\n      blocks: null,\n      fullPage: true,\n      authToken: null,\n      bot: null,\n      isLoading: true,\n      activationShow: false,\n      activationLoading: false,\n      saveError: false,\n      saveErrorText: \"\",\n      saveSuccess: false,\n      saveLoading: false,\n      isFlowValid: false,\n      usesTemplate: false,\n      editorAreaHeight: 0,\n      showingToast: false,\n      dfKey: uuidv4(),\n      toolsCollapsed: false,\n    };\n  },\n  components: {\n    AdminLayout,\n    Loading,\n    DrawFlow,\n    BlocksMenu,\n    BotoModal,\n  },\n  beforeUnmount() {\n    this.bot = null;\n  },\n  methods: {\n    showToast(type: string, message: string) {\n      this.$toast.open({\n        message,\n        type,\n        duration: 5000,\n        dismissible: true,\n        position: \"top-right\",\n      });\n    },\n    cleanSave() {\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      const vm = this;\n      setTimeout(() => {\n        vm.saveLoading = false;\n        vm.saveSuccess = false;\n        vm.saveError = false;\n        vm.saveErrorText = \"\";\n      }, 3000);\n    },\n    clearBot() {\n      this.bot = null;\n      this.isFlowValid = false;\n      this.store.commit(\"removeTemplate\");\n      // @ts-expect-error ignore\n      this.$refs[\"drawflowEditor\"].clearBot();\n      routes.push({ name: \"home.editor\", params: {} });\n    },\n    cancelActivateBot() {\n      this.activationShow = false;\n    },\n    async activateBot() {\n      try {\n        this.activationLoading = true;\n        await this.switchBoto(\"ON\");\n        routes.push({\n          name: \"home.botos\",\n          params: {\n            botId: (this.bot as any).id,\n            botName: (this.bot as any).name,\n            botFrequency: (this.bot as any).frequency,\n            botSchedule: (this.bot as any).schedule,\n            botFrequencyUnit: (this.bot as any).frequency_unit,\n          },\n        });\n      } catch (e) {\n        console.error(e);\n        this.showToast(\"error\", \"There was a problem trying to activate this bot.\");\n        this.activationLoading = false;\n      }\n      this.activationShow = false;\n    },\n    toggleTools() {\n      this.toolsCollapsed = !this.toolsCollapsed;\n    },\n    async saveBot() {\n      try {\n        if (this.isFlowValid) {\n          this.saveLoading = true;\n          this.saveSuccess = false;\n          this.saveError = false;\n          this.saveErrorText = \"\";\n          // @ts-expect-error ignore\n          const jsonData = this.$refs[\"drawflowEditor\"].export();\n          const method =\n            this.bot && !this.usesTemplate ? HttpRequestMethod.PUT : HttpRequestMethod.POST;\n          let url = `https://${process.env.VUE_APP_BOTO_API_DOMAIN}/api/bots/`;\n          // @ts-expect-error ignore\n          if (this.bot && !this.usesTemplate) url = `${url}${this.bot?.id}/`;\n          const response = await HttpClient.request(\n            url,\n            this.authToken!,\n            method,\n            JSON.stringify(jsonData)\n          );\n          if (!this.bot || (this.bot && this.usesTemplate)) this.activationShow = true;\n          this.store.commit(\"removeTemplate\");\n          this.usesTemplate = false;\n          this.bot = response;\n          this.saveLoading = false;\n          this.saveSuccess = true;\n          this.cleanSave();\n        }\n      } catch (e) {\n        this.showToast(\"error\", \"There was a problem trying to save this bot.\");\n        this.activationLoading = false;\n        this.saveLoading = false;\n        this.saveSuccess = false;\n        this.saveError = true;\n        this.saveErrorText = e as string;\n        this.cleanSave();\n      }\n    },\n    async activateDeactivateBoto() {\n      try {\n        this.activationLoading = true;\n        const status = (this.bot as any).status === \"ON\" ? \"OFF\" : \"ON\";\n        const result = await this.switchBoto(status);\n        // TODO: need to do this, API not handling great the response\n        (this.bot as any).status = status;\n        this.showToast(\"success\", `Your boto has been switched ${status}!`);\n        this.activationLoading = false;\n      } catch (e) {\n        this.showToast(\"error\", `Your boto could not be switched ${status}!`);\n        this.activationLoading = false;\n      }\n    },\n    async switchBoto(status: string) {\n      try {\n        const headers = new Headers();\n        const formdata = new FormData();\n        // @ts-expect-error ignore\n        const url = `https://${process.env.VUE_APP_BOTO_API_DOMAIN}/api/bot/${this.bot!.id}/`;\n        // @ts-expect-error ignore\n        formdata.append(\"name\", this.bot!.name);\n        formdata.append(\"status\", status);\n        // @ts-expect-error ignore\n        formdata.append(\"frequency\", this.bot!.frequency.toString());\n        const requestOptions = {\n          method: \"PUT\",\n          headers,\n          body: formdata,\n        };\n        headers.append(\"Authorization\", `Token ${this.authToken}`);\n        const response = await fetch(url, requestOptions);\n        if (!response.ok) {\n          throw new Error(`An error has occured: ${response.status}`);\n        }\n      } catch (e) {\n        this.showToast(\"error\", \"There was a problem trying to activate this bot.\");\n        this.activationLoading = false;\n        console.error(e);\n      }\n    },\n    async getBlocks() {\n      return await HttpClient.request(\n        `https://${process.env.VUE_APP_BOTO_API_DOMAIN}/api/my/blocks/`,\n        this.authToken!,\n        HttpRequestMethod.GET\n      );\n    },\n    async getBot(id: string) {\n      return await HttpClient.request(\n        `https://${process.env.VUE_APP_BOTO_API_DOMAIN}/api/bot/${id}/`,\n        this.authToken!,\n        HttpRequestMethod.GET\n      );\n    },\n    resetEventListeners() {\n      EventEmitter.emitter.off(\"editor-block-update-block-updated\");\n      EventEmitter.emitter.off(\"editor-valid-status\");\n    },\n  },\n  created() {\n    // CTRL+S\n    document.addEventListener(\"keydown\", (e) => {\n      if (e.ctrlKey && e.key === \"s\") {\n        e.preventDefault();\n        this.saveBot();\n      }\n    });\n  },\n  async mounted() {\n    try {\n      this.resetEventListeners();\n      this.authToken = this.store.getters.localStorageAuthToken;\n      const template = this.store.getters.localStorageTemplate;\n      this.blocks = await this.getBlocks(); // TODO: caching?\n      const botId = this.$route.params.id;\n      if (botId) {\n        this.store.commit(\"removeTemplate\");\n        const bot = await this.getBot(botId.toString());\n        this.bot = bot;\n        this.usesTemplate = false;\n      } else if (template) {\n        let bot;\n        const tbot = JSON.parse(template);\n        if (tbot.copy) {\n          bot = await this.getBot(tbot.id);\n          bot.name = tbot.name;\n        } else {\n          bot = JSON.parse(template);\n        }\n        this.bot = bot;\n        this.usesTemplate = true;\n        // copied bot\n        if (this.bot && (this.bot as any).copy) {\n          this.showToast(\"success\", \"Your bot has been copied!\");\n          delete (this.bot as any).copy;\n        }\n      }\n      this.isLoading = false;\n      EventEmitter.emitter.on(\"editor-valid-status\", (status: boolean) => {\n        this.isFlowValid = status;\n      });\n      EventEmitter.emitter.on(\n        \"editor-block-update-block-updated\",\n        (id: string, status: boolean, block: any) => {\n          if (status) {\n            this.showToast(\n              \"success\",\n              `Block ${block.name} has been upgraded to the latest version!`\n            );\n          } else {\n            this.showToast(\"error\", \"There was a problem trying to update this bot.\");\n          }\n        }\n      );\n      setTimeout(() => {\n        EventEmitter.emitter.emit(\"sidebar-toggle-sidebar\", true);\n      }, 100);\n    } catch (e) {\n      this.showToast(\"error\", \"There was a problem trying to load this bot.\");\n      this.isLoading = false;\n    }\n  },\n});\n","import { render } from \"./Editor.html?vue&type=template&id=1eda5990\"\nimport script from \"./Editor.ts?vue&type=script&lang=ts\"\nexport * from \"./Editor.ts?vue&type=script&lang=ts\"\n\nimport \"./Editor.css?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./BlocksMenu.css?vue&type=style&index=0&lang=css\""],"sourceRoot":""}