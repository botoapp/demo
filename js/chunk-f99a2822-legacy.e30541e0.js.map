{"version":3,"sources":["webpack:///./src/components/PlaceHolders/MenuBlockPlaceHolder/MenuBlockPlaceHolder.css?6bcd","webpack:///./src/modules/Editor/Editor.css?13fd","webpack:///./src/components/MenuBlock/MenuBlock.css?8953","webpack:///./src/modules/Editor/Editor.html","webpack:///./src/components/BlocksMenu/BlocksMenu.html","webpack:///./src/components/MenuBlock/MenuBlock.html","webpack:///./src/components/MenuBlock/MenuBlock.ts","webpack:///./src/components/MenuBlock/index.vue","webpack:///./src/components/PlaceHolders/MenuBlockPlaceHolder/MenuBlockPlaceHolder.html","webpack:///./src/components/PlaceHolders/MenuBlockPlaceHolder/MenuBlockPlaceHolder.ts","webpack:///./src/components/PlaceHolders/MenuBlockPlaceHolder/index.vue","webpack:///./src/components/BlocksMenu/BlocksMenu.ts","webpack:///./src/components/BlocksMenu/index.vue","webpack:///./src/modules/Editor/Editor.ts","webpack:///./src/modules/Editor/index.vue","webpack:///./src/components/BlocksMenu/BlocksMenu.css?3c24"],"names":["class","ref","active","isLoading","can-cancel","color","is-full-page","fullPage","blocks","height","editorAreaHeight","authToken","showZoom","bot","editorId","usesTemplate","saveSuccess","saveError","saveErrorText","cancelSaveBot","type","saveBot","isFlowValid","disabled","saveLoading","confirmText","cancelText","loading","activationLoading","activationShow","confirmEnabled","activateBot","cancelActivateBot","title","botFrequency","data-tooltip","for","style","addFilter","id","value","isLoadingData","i","filteredItems","item","data","draggable","drag","data-node","data-data","logo_class","name","block_type","description","props","Number","blockId","String","Object","methods","ev","dataTransfer","setData","target","getAttribute","JSON","stringify","this","render","circle","size","components","Skeletor","filters","items","MenuBlock","MenuBlockPlaceHolder","watch","immediate","handler","val","created","updateData","filter","find","findIndex","element","splice","push","filtered","el","indexOf","length","setup","store","open","showingToast","AdminLayout","Loading","DrawFlow","BlocksMenu","BotoModal","beforeUnmount","showToast","message","$toast","duration","dismissible","position","cleanSave","vm","setTimeout","commit","$refs","drawflowEditor","clearBot","routes","params","tagRemovalFromField","switchBoto","botId","botName","frequency","console","error","jsonData","export","method","url","requestOptions","headers","Authorization","body","fetch","response","ok","Error","status","json","Headers","formdata","FormData","append","toString","getBlocks","cache","getBot","mounted","getters","localStorageAuthToken","template","localStorageTemplate","results","published","$route","parse","copy","EventEmitter","emitter","on","editorContainer","clientHeight"],"mappings":"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","file":"js/chunk-f99a2822-legacy.e30541e0.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./MenuBlockPlaceHolder.css?vue&type=style&index=0&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./Editor.css?vue&type=style&index=0&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./MenuBlock.css?vue&type=style&index=0&lang=css\"","<admin-layout>\n\t<div class=\"text-start\">\n\t\t<h3>Editor</h3>\n\t</div>\n\t<loading :active=\"isLoading\" \n        :can-cancel=\"false\"\n\t\tcolor=\"#66B861\"\n        :is-full-page=\"fullPage\"></loading>\n\t<div class=\"container text-start h-100\">\n\t\t<div class=\"row editor-height\">\n\t\t  <div class=\"col-3 col-sm-4 col-md-3 col-xl-2\">\n\t\t\t<blocks-menu :blocks=\"blocks\" :height=\"editorAreaHeight\"></blocks-menu>\n\t\t  </div>\n\t\t  <div class=\"col\" ref=\"editorContainer\">\n\t\t\t<draw-flow v-if=\"authToken && blocks && !isLoading\" :showZoom=\"true\" :height=\"editorAreaHeight\" :bot=\"bot\" editorId=\"botoEditor\" :usesTemplate=\"usesTemplate\" :authToken=\"authToken\" :blocks=\"blocks\" ref=\"drawflowEditor\"></draw-flow>\n\t\t\t<div class=\"text-end mt-2 mb-2\" v-if=\"!isLoading\">\n\t\t\t\t<span class=\"text-success mr-2\" v-if=\"saveSuccess\">Saved!</span>\n\t\t\t\t<span class=\"text-danger mr-2\" v-if=\"saveError\">{{ saveErrorText }}</span>\n\t\t\t\t<button @click=\"cancelSaveBot\" v-if=\"bot\" type=\"button\" class=\"boto-button large secondary-btn mr-2\">\n\t\t\t\t\tCancel\n\t\t\t\t</button>\n\t\t\t\t<button @click=\"saveBot\" type=\"button\" class=\"boto-button large\" :disabled=\"!isFlowValid\" :class=\"(!isFlowValid) ? 'btn-secondary' : 'primary-btn'\">\n\t\t\t\t\t<span v-if=\"!this.bot\">Create Boto</span>\n\t\t\t\t\t<span v-if=\"this.bot && !usesTemplate\">Update Boto</span>\n\t\t\t\t\t<span v-if=\"this.bot && usesTemplate\">Save this template as a new Boto</span>\n\t\t\t\t\t<i class=\"fas fa-check\" v-if=\"saveSuccess\"></i>\n\t\t\t\t\t<i class=\"fas fa-circle-notch fa-spin\" v-if=\"saveLoading\"></i>\n\t\t\t\t\t<i class=\"fas fa-exclamation-circle\" v-if=\"saveError\"></i>\n\t\t\t\t</button>\n\t\t\t\t<boto-modal confirmText=\"Yes\" cancelText=\"No\" :loading=\"activationLoading\" v-model=\"activationShow\" confirmEnabled=\"true\" @confirm=\"activateBot\" @cancel=\"cancelActivateBot\">\n\t\t\t\t\t<template v-slot:title>Bot created, congrats! 😄</template>\n\t\t\t\t\t<p v-if=\"activationShow\">Your bot is not running yet, you have configured it to run every {{ botFrequency }} minutes, would you like to activate it now?.</p>\n\t\t\t\t</boto-modal>\n\t\t\t</div>\n\t\t  </div>\n\t\t</div>\n\t</div>\n</admin-layout>","<div class=\"blocks-menu-container\">\n    <div class=\"pl-2 pt-1 text-muted\">Filter</div>\n    <div class=\"blocks-menu-filter\">\n        <ul class=\"ks-cboxtags\">\n            <li class=\"mr-2\" data-tooltip=\"Logic\">\n                <input @click=\"addFilter('LOG')\" type=\"checkbox\" id=\"checkboxLogic\" value=\"action\">\n                <label for=\"checkboxLogic\"><i class=\"fas fa-brain\"></i></label>\n            </li>\n            <li class=\"mr-2\" data-tooltip=\"Actions\">\n                <input @click=\"addFilter('ACT')\" type=\"checkbox\" id=\"checkboxAction\" value=\"logic\">\n                <label for=\"checkboxAction\"><i class=\"fas fa-bolt\"></i></label>\n            </li>\n            <li class=\"mr-2\" style=\"clear: both;border:0px solid none\" data-tooltip=\"Triggers\">\n                <input @click=\"addFilter('TRG')\" type=\"checkbox\" id=\"checkboxTrigger\" value=\"trigger\">\n                <label for=\"checkboxTrigger\"><i class=\"fas fa-play\"></i></label>\n            </li>\n            <li data-tooltip=\"Operations\">\n                <input @click=\"addFilter('OPR')\" type=\"checkbox\" id=\"checkboxOperation\" value=\"operation\">\n                <label for=\"checkboxOperation\"><i class=\"fas fa-greater-than-equal\"></i></label>\n            </li>\n        </ul>\n    </div>\n    <hr>\n    <div class=\"blocks-menu-blocks\" :style=\"`height: ${height}px`\">\n        <div class=\"p-2\" v-if=\"isLoadingData\">\n            <menu-block-place-holder v-for=\"i in 12\"></menu-block-place-holder>\n        </div>\n        <ul class=\"px-1\" v-if=\"!isLoadingData\">\n            <li v-for=\"item in filteredItems\">\n                <menu-block :id=\"item.id\" :data=\"item\"></menu-block>\n            </li>\n        </ul>\n    </div>\n</div>","<div class=\"drag-drawflow\" draggable=\"true\" v-on:dragstart=\"drag\" :data-node=\"id\" :data-data=\"data\">\n    <h4 class=\"primary\"><i :class=\"data.logo_class\"></i> {{ data.name }}</h4>\n    <p>\n        <span class=\"badge bg-primary\" v-if=\"data.block_type === 'ACT'\">{{ data.block_type }}</span>\n        <span class=\"badge bg-secondary\" v-if=\"data.block_type === 'TRG'\">{{ data.block_type }}</span>\n        <span class=\"badge bg-info\" v-if=\"data.block_type === 'LOG'\">{{ data.block_type }}</span>\n        {{ data.description }}\n    </p>\n</div>","import { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"MenuBlockComponent\",\n  props: {\n    id: Number,\n    blockId: String,\n    data: Object,\n  },\n  methods: {\n    drag(ev: any) {\n      ev.dataTransfer.setData(\"node\", ev.target.getAttribute(\"data-node\"));\n      ev.dataTransfer.setData(\"data\", JSON.stringify(this.data));\n    },\n  },\n});\n","import { render } from \"./MenuBlock.html?vue&type=template&id=23d6ac55\"\nimport script from \"./MenuBlock.ts?vue&type=script&lang=ts\"\nexport * from \"./MenuBlock.ts?vue&type=script&lang=ts\"\n\nimport \"./MenuBlock.css?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","<div class=\"placeholder\">\n    <div class=\"av__placeholder\">\n        <Skeletor circle size=\"48\" />\n    </div>\n    <h4 class=\"h4__placeholder\">\n        <Skeletor height=\"22\" />\n    </h4>\n    <p class=\"p__placeholder\">\n        <Skeletor height=\"16\" />\n    </p>\n    <p class=\"p__placeholder\">\n        <Skeletor height=\"16\" />\n    </p>\n</div>","import { Skeletor } from \"vue-skeletor\";\n\nexport default {\n  name: \"MenuBlockPlaceholderComponent\",\n  components: {\n    Skeletor,\n  },\n};\n","import { render } from \"./MenuBlockPlaceHolder.html?vue&type=template&id=2686d6f4\"\nimport script from \"./MenuBlockPlaceHolder.ts?vue&type=script&lang=ts\"\nexport * from \"./MenuBlockPlaceHolder.ts?vue&type=script&lang=ts\"\n\nimport \"./MenuBlockPlaceHolder.css?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","import MenuBlock from \"@/components/MenuBlock/index.vue\";\nimport MenuBlockPlaceHolder from \"@/components/PlaceHolders/MenuBlockPlaceHolder/index.vue\";\nimport \"vue-skeletor/dist/vue-skeletor.css\";\nimport { defineComponent } from \"vue\";\nimport { Block } from \"@/interfaces/Block\";\n\nconst filters: string[] = [];\nconst items: Block[] = [];\n\nexport default defineComponent({\n  name: \"BlocksMenuComponent\",\n  props: {\n    blocks: Object,\n    height: Number,\n  },\n  components: {\n    MenuBlock,\n    MenuBlockPlaceHolder,\n  },\n  watch: {\n    blocks: {\n      immediate: true,\n      handler(val) {\n        this.items = val;\n        this.filteredItems = val;\n        this.isLoadingData = false;\n      },\n    },\n  },\n  data() {\n    return {\n      items,\n      isLoadingData: false,\n      filters,\n      filteredItems: items,\n    };\n  },\n  created() {\n    this.isLoadingData = true;\n  },\n  methods: {\n    updateData(data: Block[]) {\n      this.items = data;\n      this.filteredItems = data;\n      this.isLoadingData = false;\n    },\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n    addFilter(filter: string) {\n      const find = this.filters.findIndex((element) => element === filter);\n      if (this.filters.find((element) => element === filter)) {\n        this.filters.splice(find, 1);\n      } else {\n        this.filters.push(filter);\n      }\n      const filtered = this.items.filter((el: Block) => this.filters.indexOf(el.block_type) > -1);\n      this.filteredItems = this.filters.length > 0 ? filtered : this.items;\n    },\n  },\n});\n","import { render } from \"./BlocksMenu.html?vue&type=template&id=2cab1b67\"\nimport script from \"./BlocksMenu.ts?vue&type=script&lang=ts\"\nexport * from \"./BlocksMenu.ts?vue&type=script&lang=ts\"\n\nimport \"./BlocksMenu.css?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","import DrawFlow from \"@/components/DrawFlow/index.vue\";\nimport AdminLayout from \"@/layouts/Admin/index.vue\";\nimport { defineComponent } from \"vue\";\nimport Loading from \"vue3-loading-overlay\";\nimport \"vue3-loading-overlay/dist/vue3-loading-overlay.css\";\nimport BlocksMenu from \"@/components/BlocksMenu/index.vue\";\nimport { useStore } from \"vuex\";\nimport routes from \"@/routes\";\nimport EventEmitter from \"@/util/EventEmitter\";\nimport BotoModal from \"@/components/BotoModal/index.vue\";\nimport \"vue-toast-notification/dist/theme-sugar.css\";\n\nexport default defineComponent({\n  name: \"App\",\n  setup() {\n    const store = useStore();\n    return {\n      store,\n    };\n  },\n  data() {\n    return {\n      open: false,\n      blocks: null,\n      fullPage: true,\n      authToken: null,\n      bot: null,\n      isLoading: true,\n      activationShow: false,\n      activationLoading: false,\n      saveError: false,\n      saveErrorText: \"\",\n      saveSuccess: false,\n      saveLoading: false,\n      isFlowValid: false,\n      usesTemplate: false,\n      editorAreaHeight: 0,\n      showingToast: false,\n    };\n  },\n  components: {\n    AdminLayout,\n    Loading,\n    DrawFlow,\n    BlocksMenu,\n    BotoModal,\n  },\n  beforeUnmount() {\n    this.bot = null;\n  },\n  methods: {\n    showToast(type: string, message: string) {\n      this.$toast.open({\n        message,\n        type,\n        duration: 5000,\n        dismissible: true,\n        position: \"top-right\",\n      });\n    },\n    cleanSave() {\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      const vm = this;\n      setTimeout(function () {\n        vm.saveLoading = false;\n        vm.saveSuccess = false;\n        vm.saveError = false;\n        vm.saveErrorText = \"\";\n      }, 3000);\n    },\n    cancelSaveBot() {\n      this.bot = null;\n      this.isFlowValid = false;\n      this.store.commit(\"removeTemplate\");\n      // @ts-expect-error ignore\n      this.$refs.drawflowEditor.clearBot();\n      routes.push({ name: \"home.editor\", params: {} });\n    },\n    cancelActivateBot() {\n      this.activationShow = false;\n    },\n    tagRemovalFromField(blockId: string) {\n      if (!this.showingToast) {\n        this.showingToast = true;\n        this.showToast(\n          \"warning\",\n          `Some fields have been removed on block #${blockId} as data from previous blocks is not available anymore`\n        );\n        setTimeout(() => {\n          this.showingToast = false;\n        }, 1000);\n      }\n    },\n    async activateBot() {\n      try {\n        this.activationLoading = true;\n        const data = await this.switchBoto(\"ON\");\n        routes.push({\n          name: \"home.botos\",\n          params: {\n            botId: (this.bot as any).id,\n            botName: (this.bot as any).name,\n            botFrequency: (this.bot as any).frequency,\n          },\n        });\n      } catch (e) {\n        console.error(e);\n        this.showToast(\"error\", \"There was a problem trying to activate this bot.\");\n        this.activationLoading = false;\n      }\n      this.activationShow = false;\n    },\n    async saveBot() {\n      try {\n        if (this.isFlowValid) {\n          this.saveLoading = true;\n          this.saveSuccess = false;\n          this.saveError = false;\n          this.saveErrorText = \"\";\n          // @ts-expect-error ignore\n          const jsonData = this.$refs.drawflowEditor.export();\n          const method = this.bot && !this.usesTemplate ? \"PUT\" : \"POST\";\n          let url = \"https://botoapp.io/api/bots/\";\n          // @ts-expect-error ignore\n          if (this.bot && !this.usesTemplate) url = `${url}${this.bot?.id}/`;\n          const requestOptions = {\n            method,\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: `Token ${this.authToken}`,\n            },\n            body: JSON.stringify(jsonData),\n          };\n          const response = await fetch(url, requestOptions);\n          if (!response.ok) {\n            throw new Error(`An error has occured: ${response.status}`);\n          }\n          if (!this.bot || (this.bot && this.usesTemplate)) this.activationShow = true;\n          this.store.commit(\"removeTemplate\");\n          this.usesTemplate = false;\n          const data = await response.json();\n          this.bot = data;\n          this.saveLoading = false;\n          this.saveSuccess = true;\n          this.cleanSave();\n        }\n      } catch (e) {\n        this.showToast(\"error\", \"There was a problem trying to save this bot.\");\n        this.activationLoading = false;\n        this.saveLoading = false;\n        this.saveSuccess = false;\n        this.saveError = true;\n        this.saveErrorText = e;\n        this.cleanSave();\n      }\n    },\n    async switchBoto(status: string) {\n      try {\n        const headers = new Headers();\n        const formdata = new FormData();\n        // @ts-expect-error ignore\n        const url = `https://botoapp.io/api/bot/${this.bot!.id}/`;\n        // @ts-expect-error ignore\n        formdata.append(\"name\", this.bot!.name);\n        formdata.append(\"status\", status);\n        // @ts-expect-error ignore\n        formdata.append(\"frequency\", this.bot!.frequency.toString());\n        const requestOptions = {\n          method: \"PUT\",\n          headers,\n          body: formdata,\n        };\n        headers.append(\"Authorization\", `Token ${this.authToken}`);\n        const response = await fetch(url, requestOptions);\n        if (!response.ok) {\n          throw new Error(`An error has occured: ${response.status}`);\n        }\n      } catch (e) {\n        this.showToast(\"error\", \"There was a problem trying to activate this bot.\");\n        this.activationLoading = false;\n        console.error(e);\n      }\n    },\n    async getBlocks() {\n      const response = await fetch(\"https://botoapp.io/api/blocks/\", {\n        cache: \"no-store\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Token ${this.authToken}`,\n        },\n      });\n      const data = await response.json();\n      return data;\n    },\n    async getBot(id: string) {\n      const response = await fetch(`https://botoapp.io/api/bot/${id}/`, {\n        cache: \"no-store\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Token ${this.authToken}`,\n        },\n      });\n      const data = await response.json();\n      return data;\n    },\n  },\n  async mounted() {\n    try {\n      this.authToken = this.store.getters.localStorageAuthToken;\n      const template = this.store.getters.localStorageTemplate;\n      const blocks = await this.getBlocks();\n      this.blocks = blocks.results.filter(function (el: any) {\n        return el.published === true;\n      });\n      const botId = this.$route.params.id;\n      if (botId) {\n        const bot = await this.getBot(botId.toString());\n        this.bot = bot;\n        this.usesTemplate = false;\n      } else if (template) {\n        this.bot = JSON.parse(template);\n        this.usesTemplate = true;\n        // copied bot\n        if (this.bot && (this.bot as any).copy) {\n          this.showToast(\"success\", \"Your bot has been copied!\");\n          delete (this.bot as any).copy;\n        }\n      }\n      this.isLoading = false;\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      const vm = this;\n      EventEmitter.emitter.on(\"editor-valid-status\", function (status: boolean) {\n        vm.isFlowValid = status;\n      });\n      EventEmitter.emitter.on(\"block-properties-tag-removal\", this.tagRemovalFromField);\n      setTimeout(() => {\n        // @ts-expect-error ignore\n        this.editorAreaHeight = this.$refs.editorContainer.clientHeight - 50;\n      }, 100);\n    } catch (e) {\n      this.showToast(\"error\", \"There was a problem trying to load this bot.\");\n      this.isLoading = false;\n    }\n  },\n});\n","import { render } from \"./Editor.html?vue&type=template&id=1eda5990\"\nimport script from \"./Editor.ts?vue&type=script&lang=ts\"\nexport * from \"./Editor.ts?vue&type=script&lang=ts\"\n\nimport \"./Editor.css?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./BlocksMenu.css?vue&type=style&index=0&lang=css\""],"sourceRoot":""}