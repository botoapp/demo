(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c7660ba"],{"2dad":function(e,t,a){"use strict";var o=a("7a23");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t,a){var l=Object(o["toRefs"])(e),r=l.disabled.value,i=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({container:"toggle-container",toggle:"toggle",toggleOn:"toggle-on",toggleOff:"toggle-off",toggleOnDisabled:"toggle-on-disabled",toggleOffDisabled:"toggle-off-disabled",handle:"toggle-handle",handleOn:"toggle-handle-on",handleOff:"toggle-handle-off",handleOnDisabled:"toggle-handle-on-disabled",handleOffDisabled:"toggle-handle-off-disabled",label:"toggle-label"},l.classes.value),s=a.checked;return{classList:Object(o["computed"])((function(){return{container:i.container,toggle:[i.toggle,r?s.value?i.toggleOnDisabled:i.toggleOffDisabled:s.value?i.toggleOn:i.toggleOff],handle:[i.handle,r?s.value?i.handleOnDisabled:i.handleOffDisabled:s.value?i.handleOn:i.handleOff],label:i.label}}))}}var r={name:"Toggle",emits:["input","update:modelValue","change"],props:{value:{validator:function(e){return e=>-1!==["number","string","boolean"].indexOf(typeof e)||null==e},required:!1},modelValue:{validator:function(e){return e=>-1!==["number","string","boolean"].indexOf(typeof e)||null==e},required:!1},id:{type:[String,Number],required:!1,default:"toggle"},name:{type:[String,Number],required:!1,default:"toggle"},disabled:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},falseValue:{type:[String,Number,Boolean],required:!1,default:!1},trueValue:{type:[String,Number,Boolean],required:!1,default:!0},onLabel:{type:[String,Object],required:!1,default:""},offLabel:{type:[String,Object],required:!1,default:""},classes:{type:Object,required:!1,default:()=>({})},labelledby:{type:String,required:!1},describedby:{type:String,required:!1}},setup(e,t){const a=function(e,t,a){var c=Object(o["toRefs"])(e),n=c.value,l=c.modelValue,r=c.falseValue,i=c.trueValue,s=c.disabled,u=void 0!==t.expose?l:n,d=Object(o["computed"])((function(){return u.value===i.value})),b=function(e){t.emit("input",e),t.emit("update:modelValue",e),t.emit("change",e)},p=function(){b(i.value)},v=function(){b(r.value)};return-1!==[null,void 0,!1,0,"0","off"].indexOf(u.value)&&u.value!==r.value&&v(),-1!==[!0,1,"1","on"].indexOf(u.value)&&u.value!==i.value&&p(),{externalValue:u,checked:d,update:b,check:p,uncheck:v,handleInput:function(e){b(e.target.checked?i.value:r.value)},handleClick:function(){s.value||(d.value?v():p())}}}(e,t),c=function(e,t,a){var c=Object(o["toRefs"])(e),n=c.trueValue,l=c.falseValue,r=c.onLabel,i=c.offLabel,s=a.checked,u=a.update;return{label:Object(o["computed"])((function(){var e=s.value?r.value:i.value;return e||(e="&nbsp;"),e})),toggle:function(){u(s.value?l.value:n.value)},on:function(){u(n.value)},off:function(){u(l.value)}}}(e,0,{checked:a.checked,update:a.update}),n=l(e,0,{checked:a.checked}),r=(i={check:a.check,uncheck:a.uncheck,checked:a.checked},s=i.check,u=i.uncheck,d=i.checked,{handleSpace:function(){d.value?u():s()}});var i,s,u,d;return{...a,...n,...c,...r}},render:function(e,t,a,c,n,l){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:e.classList.container,tabindex:a.disabled?-1:0,"aria-checked":e.checked,"aria-describedby":a.describedby,"aria-labelledby":a.labelledby,role:"switch",onKeyup:t[2]||(t[2]=Object(o["withKeys"])((...t)=>e.handleSpace&&e.handleSpace(...t),["space"]))},[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"checkbox",id:a.id,name:a.name,value:a.trueValue,checked:e.checked,disabled:a.disabled},null,8,["id","name","value","checked","disabled"]),[[o["vShow"],!1]]),Object(o["createVNode"])("div",{class:e.classList.toggle,onClick:t[1]||(t[1]=(...t)=>e.handleClick&&e.handleClick(...t))},[Object(o["createVNode"])("span",{class:e.classList.handle},null,2),Object(o["renderSlot"])(e.$slots,"label",{checked:e.checked,classList:e.classList},()=>[Object(o["createVNode"])("span",{class:e.classList.label,innerHTML:e.label},null,10,["innerHTML"])]),a.required?(Object(o["openBlock"])(),Object(o["createBlock"])("input",{key:0,type:"checkbox",style:{appearance:"none",height:"1px",margin:"0",padding:"0",fontSize:"0",background:"transparent",position:"absolute",width:"100%",bottom:"0",outline:"none"},checked:e.checked,"aria-hidden":"true",tabindex:"-1",required:""},null,8,["checked"])):Object(o["createCommentVNode"])("v-if",!0)],2)],42,["tabindex","aria-checked","aria-describedby","aria-labelledby"])},__file:"src/Toggle.vue"};t["a"]=r},"3b5b":function(e,t,a){"use strict";a("5508")},"514a":function(e,t,a){},5508:function(e,t,a){},"669b":function(e,t,a){},"6f2f":function(e,t,a){},"9ba2":function(e,t,a){},adf6:function(e,t,a){},cda1:function(e,t,a){},d02e:function(e,t,a){"use strict";a("669b")},d293:function(e,t,a){"use strict";a("adf6")},d300:function(e,t,a){"use strict";a.r(t);var o=a("7a23");const c={class:"boto-toolbar"},n={class:"row"},l={class:"col text-start"},r={key:0},i={class:"ml-3 mt-4 pt-1 text-primary"},s={key:1},u={class:"row h2"},d={class:"col-10 mt-n1"},b={class:"col-2 pt-2"},p={class:"col"},v={class:"col mt-4"},f={class:"float-start"},h=Object(o["createVNode"])("label",{for:"botFrequency",class:"col-form-label"},"When: ",-1),m={key:0,class:"ml-2 text-primary"},O=Object(o["createTextVNode"])(" Event driven "),j=Object(o["createVNode"])("span",{class:"nav-item","data-tooltip":"The bot will be executed every time there's an event in your 'Trigger' blocks."},[Object(o["createVNode"])("span",null,[Object(o["createVNode"])("i",{class:"fas fa-info-circle"})])],-1),g={key:1,class:"ml-2 text-primary"},y={key:0,class:"float-start ml-2 mt-n1"},k={key:1,class:"float-start col-3 ml-1 mt-n1"},D={key:0,class:"col text-end mt-3 me-4"},N={key:0,class:"text-success mr-2"},B={key:1,class:"text-danger mr-2"},C=Object(o["createVNode"])("i",{class:"fas fa-eraser"},null,-1),V=Object(o["createTextVNode"])(" Clear "),S={key:0},F={key:1},w={key:2},T={key:3,class:"fas fa-check"},x={key:4,class:"fas fa-circle-notch fa-spin"},A={key:5,class:"fas fa-exclamation-circle"},q={class:"row"},L={class:"col",ref:"editorContainer"},E={class:"ml-3 text-start"},P={class:"row"},R={class:"col"},I={class:"row"},M={key:0,class:"col text-start mt-2 pt-2 text-muted"},U=Object(o["createVNode"])("i",{class:"far fa-lightbulb"},null,-1),H=Object(o["createTextVNode"])(" Save your Bot with CTRL+S "),$={class:"col mt-2 pt-2"},K={key:0,class:"text-end text-warning"},_=Object(o["createVNode"])("i",{class:"fas fa-exclamation-triangle"},null,-1),G=Object(o["createTextVNode"])(" There are some errors in your flow, please correct the highlighted fields. "),J={class:"row blocks-menu-container-header"},W={class:"col text-start"},Y={key:0,class:"col text-end"};function z(e,t){const a=Object(o["resolveComponent"])("vue-number-input"),z=Object(o["resolveComponent"])("Multiselect"),Z=Object(o["resolveComponent"])("Toggle"),Q=Object(o["resolveComponent"])("loading"),X=Object(o["resolveComponent"])("draw-flow"),ee=Object(o["resolveComponent"])("blocks-menu"),te=Object(o["resolveComponent"])("admin-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(te,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])("div",null,[Object(o["createVNode"])("div",c,[Object(o["createVNode"])("div",n,[Object(o["createVNode"])("div",l,[e.isEditingName?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("div",r,[Object(o["createVNode"])("h3",i,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.botName)+" ",1),Object(o["createVNode"])("i",{onClick:t[1]||(t[1]=(...t)=>e.editBotName&&e.editBotName(...t)),class:"cursor-pointer text-muted fas fa-pencil-alt"})])])),e.isEditingName?(Object(o["openBlock"])(),Object(o["createBlock"])("div",s,[Object(o["createVNode"])("div",null,[Object(o["createVNode"])("span",{id:"botNameHelp",class:[e.v$.botName.$invalid?"form-text text-warning":"form-text","ml-3 mt-n1"]}," Must be 5-80 characters long. ",2)]),Object(o["createVNode"])("div",u,[Object(o["createVNode"])("div",d,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{onKeyup:t[2]||(t[2]=(...t)=>e.validationStatusCheck&&e.validationStatusCheck(...t)),class:[e.v$.botName.$invalid?"border-warning":"","form-control form-control-no-border ml-3 float-left form-big-text"],type:"text","onUpdate:modelValue":t[3]||(t[3]=t=>e.botName=t),placeholder:"bot name...",id:"botName","aria-describedby":"botNameHelp"},null,34),[[o["vModelText"],e.botName]])]),Object(o["createVNode"])("div",b,[Object(o["createVNode"])("i",{onClick:t[4]||(t[4]=(...t)=>e.savePreSaveBotName&&e.savePreSaveBotName(...t)),class:["fas fa-check mr-2 cursor-pointer",e.botNameValidation?"text-primary":"text-muted"]},null,2),Object(o["createVNode"])("i",{onClick:t[5]||(t[5]=(...t)=>e.cancelPreSaveBotName&&e.cancelPreSaveBotName(...t)),class:"fas fa-times text-danger cursor-pointer"})])])])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("div",p,[Object(o["createVNode"])("div",v,[Object(o["createVNode"])("div",f,[h,"ADH"===e.triggerType?(Object(o["openBlock"])(),Object(o["createBlock"])("span",m,[O,j])):Object(o["createCommentVNode"])("",!0),"SCH"===e.triggerType?(Object(o["openBlock"])(),Object(o["createBlock"])("span",g,"Periodic, every")):Object(o["createCommentVNode"])("",!0)]),"SCH"===e.triggerType?(Object(o["openBlock"])(),Object(o["createBlock"])("div",y,[Object(o["createVNode"])(a,{attrs:{id:"botFrequency",tabindex:-1},"model-value":e.botFrequency,"onUpdate:modelValue":e.onFrequencyChange,min:1,size:"small",inputtable:!0,inline:"",controls:""},null,8,["model-value","onUpdate:modelValue"])])):Object(o["createCommentVNode"])("",!0),"SCH"===e.triggerType?(Object(o["openBlock"])(),Object(o["createBlock"])("div",k,[Object(o["createVNode"])(z,{onChange:e.frequencyUnitChange,canDeselect:!1,required:!0,label:"label",canClear:!1,modelValue:e.botFrequencyUnit,"onUpdate:modelValue":t[6]||(t[6]=t=>e.botFrequencyUnit=t),options:e.scheduleOptions},null,8,["onChange","modelValue","options"])])):Object(o["createCommentVNode"])("",!0)])]),e.isLoading?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("div",D,[e.saveSuccess?(Object(o["openBlock"])(),Object(o["createBlock"])("span",N,"Saved!")):Object(o["createCommentVNode"])("",!0),e.saveError?(Object(o["openBlock"])(),Object(o["createBlock"])("span",B,Object(o["toDisplayString"])(e.saveErrorText),1)):Object(o["createCommentVNode"])("",!0),e.bot&&e.bot.id?(Object(o["openBlock"])(),Object(o["createBlock"])(Z,{key:2,onClick:t[7]||(t[7]=t=>e.activateDeactivateBoto()),class:"mr-3","true-value":"ON","false-value":"OFF",modelValue:e.bot.status,"onUpdate:modelValue":t[8]||(t[8]=t=>e.bot.status=t)},null,8,["modelValue"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("button",{onClick:t[9]||(t[9]=(...t)=>e.clearBot&&e.clearBot(...t)),type:"button",class:"boto-button large muted mr-2"},[C,V]),Object(o["createVNode"])("button",{onClick:t[10]||(t[10]=(...t)=>e.saveBot&&e.saveBot(...t)),type:"button",class:["boto-button large",e.isFlowValid?"primary-btn":"btn-secondary"],disabled:!e.isFlowValid},[this.bot?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("span",S,"Create Boto")),this.bot&&!e.usesTemplate?(Object(o["openBlock"])(),Object(o["createBlock"])("span",F,"Update Boto")):Object(o["createCommentVNode"])("",!0),this.bot&&e.usesTemplate?(Object(o["openBlock"])(),Object(o["createBlock"])("span",w,"Create Boto")):Object(o["createCommentVNode"])("",!0),e.saveSuccess?(Object(o["openBlock"])(),Object(o["createBlock"])("i",T)):Object(o["createCommentVNode"])("",!0),e.saveLoading?(Object(o["openBlock"])(),Object(o["createBlock"])("i",x)):Object(o["createCommentVNode"])("",!0),e.saveError?(Object(o["openBlock"])(),Object(o["createBlock"])("i",A)):Object(o["createCommentVNode"])("",!0)],10,["disabled"])]))])]),Object(o["createVNode"])("div",q,[Object(o["createVNode"])("div",L,[Object(o["createVNode"])(Q,{active:e.isLoading,"can-cancel":!1,color:"#66B861","is-full-page":e.fullPage},null,8,["active","is-full-page"]),Object(o["createVNode"])("div",E,[Object(o["createVNode"])("div",P,[Object(o["createVNode"])("div",R,[e.authToken&&e.blocks&&!e.isLoading?(Object(o["openBlock"])(),Object(o["createBlock"])(X,{key:e.dfKey,showZoom:!0,bot:e.bot,editorId:"botoEditor",usesTemplate:e.usesTemplate,authToken:e.authToken,blocks:e.blocks,ref:"drawflowEditor"},null,8,["bot","usesTemplate","authToken","blocks"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("div",I,[e.isLoading?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("div",M,[U,H])),Object(o["createVNode"])("div",$,[e.isFlowValid?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("div",K,[_,G]))])])])])])],512),Object(o["createVNode"])("div",{class:["col-3 col-xxl-2 editor-right",e.toolsCollapsed?"tools-collapsed":"tools-expanded"]},[Object(o["createVNode"])("div",J,[Object(o["createVNode"])("div",W,[Object(o["createVNode"])("a",{onClick:t[11]||(t[11]=t=>e.toggleTools()),class:["fas","fa-chevron-"+(e.toolsCollapsed?"left":"right")]},null,2)]),e.toolsCollapsed?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("div",Y," Toolbox "))]),Object(o["createVNode"])("div",null,[Object(o["createVNode"])(ee,{key:e.dfKey+"-blocks-menu",show:!e.toolsCollapsed,blocks:e.blocks},null,8,["show","blocks"])])],2)])])]),_:1})}var Z=a("9ab4"),Q=a("687e"),X=a("96cd"),ee=a("8a14");const te=Object(o["createVNode"])("div",{class:"mt-2 text-muted text-start"},"Search",-1),ae={class:"input-group"},oe={class:"ks-cboxtags mt-1"},ce={class:"mr-2"},ne=Object(o["createVNode"])("i",{class:"fab fa-discord"},null,-1),le={class:"mr-2"},re=Object(o["createVNode"])("i",{class:"boto-icon-opensea"},null,-1),ie={class:"mr-2"},se=Object(o["createVNode"])("i",{class:"fab fa-telegram-plane"},null,-1),ue={class:"mr-2"},de=Object(o["createVNode"])("i",{class:"fab fa-ethereum"},null,-1),be={class:"mr-2"},pe=Object(o["createVNode"])("i",{class:"fas fa-envelope"},null,-1),ve={class:"mr-2"},fe=Object(o["createVNode"])("i",{class:"fa fa-times"},null,-1),he=Object(o["createVNode"])("hr",null,null,-1),me={class:"nav nav-pills h6"},Oe={class:"nav-item","data-tooltip":"Triggers"},je={key:0},ge=Object(o["createTextVNode"])(),ye={key:1},ke={class:"nav-item","data-tooltip":"Data"},De={class:"nav-item","data-tooltip":"Logic"},Ne={class:"nav-item mr-2","data-tooltip":"Actions"},Be=Object(o["createVNode"])("hr",{style:{"background-color":"#bfc9c2"}},null,-1),Ce={class:"blocks-menu-blocks"},Ve={key:0,class:"p-1"},Se={key:1,class:"text-muted p-3"},Fe={key:2,class:"px-1"};function we(e,t){const a=Object(o["resolveComponent"])("menu-block-place-holder"),c=Object(o["resolveComponent"])("menu-block");return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:["blocks-menu-container text-start",e.show?"d-block":"d-none"]},[te,Object(o["createVNode"])("div",null,[Object(o["createVNode"])("div",ae,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",onKeyup:t[1]||(t[1]=(...t)=>e.searchBlock&&e.searchBlock(...t)),class:"mt-1 form-control mr-2",placeholder:"opensea, nft...","onUpdate:modelValue":t[2]||(t[2]=t=>e.searchKey=t)},null,544),[[o["vModelText"],e.searchKey]])]),Object(o["createVNode"])("ul",oe,[Object(o["createVNode"])("li",ce,[Object(o["createVNode"])("a",{onClick:t[3]||(t[3]=t=>e.setSearchKey("discord")),class:"text-muted"},[ne])]),Object(o["createVNode"])("li",le,[Object(o["createVNode"])("a",{onClick:t[4]||(t[4]=t=>e.setSearchKey("opensea")),class:"text-muted"},[re])]),Object(o["createVNode"])("li",ie,[Object(o["createVNode"])("a",{onClick:t[5]||(t[5]=t=>e.setSearchKey("telegram")),class:"text-muted"},[se])]),Object(o["createVNode"])("li",ue,[Object(o["createVNode"])("a",{onClick:t[6]||(t[6]=t=>e.setSearchKey("eth")),class:"text-muted"},[de])]),Object(o["createVNode"])("li",be,[Object(o["createVNode"])("a",{onClick:t[7]||(t[7]=t=>e.setSearchKey("email")),class:"text-muted"},[pe])]),Object(o["createVNode"])("li",ve,[Object(o["createVNode"])("a",{onClick:t[8]||(t[8]=t=>e.setSearchKey("")),class:"text-muted"},[fe])])])]),he,Object(o["createVNode"])("ul",me,[Object(o["createVNode"])("li",Oe,[Object(o["createVNode"])("a",{class:["nav-link trigger","TRG"===e.filter?"active":""],onClick:t[9]||(t[9]=t=>e.addFilter("TRG")),href:"#"},[e.sideBarCollapsed?(Object(o["openBlock"])(),Object(o["createBlock"])("span",je,"Trig.")):Object(o["createCommentVNode"])("",!0),ge,e.sideBarCollapsed?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("span",ye,"Trig.")),Object(o["createTextVNode"])(" ("+Object(o["toDisplayString"])(e.numberOfType("TRG"))+")",1)],2)]),Object(o["createVNode"])("li",ke,[Object(o["createVNode"])("a",{class:["nav-link logic","LOG"===e.filter?"active":""],onClick:t[10]||(t[10]=t=>e.addFilter("LOG")),href:"#"},"Data ("+Object(o["toDisplayString"])(e.numberOfType("LOG"))+")",3)]),Object(o["createVNode"])("li",De,[Object(o["createVNode"])("a",{class:["nav-link operation","OPR"===e.filter?"active":""],onClick:t[11]||(t[11]=t=>e.addFilter("OPR")),href:"#"},"Log. ("+Object(o["toDisplayString"])(e.numberOfType("OPR"))+")",3)]),Object(o["createVNode"])("li",Ne,[Object(o["createVNode"])("a",{class:["nav-link action","ACT"===e.filter?"active":""],onClick:t[12]||(t[12]=t=>e.addFilter("ACT")),href:"#"},[Object(o["createVNode"])("span",null,"Act. ("+Object(o["toDisplayString"])(e.numberOfType("ACT"))+")",1)],2)])]),Be,Object(o["createVNode"])("div",Ce,[e.isLoadingData?(Object(o["openBlock"])(),Object(o["createBlock"])("div",Ve,[(Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(12,e=>Object(o["createVNode"])(a)),64))])):Object(o["createCommentVNode"])("",!0),e.processedItems&&0===e.processedItems.length?(Object(o["openBlock"])(),Object(o["createBlock"])("div",Se,"We could not find blocks matching that criteria.")):Object(o["createCommentVNode"])("",!0),e.isLoadingData?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("ul",Fe,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.processedItems,e=>(Object(o["openBlock"])(),Object(o["createBlock"])("li",null,[Object(o["createVNode"])(c,{id:e.id,data:e},null,8,["id","data"])]))),256))]))])],2)}const Te={class:"row"},xe={class:"row h-100",style:{display:"table"}},Ae=Object(o["createVNode"])("div",{class:"col-1 h3",style:{padding:"0 0 0 8px",display:"table-cell","vertical-align":"middle"}},[Object(o["createVNode"])("i",{class:"fas fa-grip-vertical",style:{color:"#f0f0f0"}})],-1),qe={class:"col"},Le={class:"text-block-name"},Ee={class:"text-secondary"},Pe=Object(o["createVNode"])("i",{class:"fas fa-info-circle"},null,-1),Re={class:"h4 text-white text-center col-2",style:{"justify-content":"center","text-align":"center",display:"flex","align-items":"center"}};function Ie(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:["drag-drawflow","menu-block-"+e.data.block_type.toLowerCase()],draggable:"true",onDragstart:t[1]||(t[1]=(...t)=>e.drag&&e.drag(...t)),"data-node":e.id,"data-data":e.data},[Object(o["createVNode"])("div",Te,[Object(o["createVNode"])("div",{class:["col-9 pt-2 menu-block-details","menu-block-details-"+e.data.block_type.toLowerCase()]},[Object(o["createVNode"])("div",xe,[Ae,Object(o["createVNode"])("div",qe,[Object(o["createVNode"])("h4",Le,Object(o["toDisplayString"])(e.data.name),1),Object(o["createVNode"])("p",Ee,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.data.description)+" ",1),e.data.info_url?(Object(o["openBlock"])(),Object(o["createBlock"])("a",{key:0,href:e.data.info_url,target:"_blank",title:"More info"},[Pe],8,["href"])):Object(o["createCommentVNode"])("",!0)])])])],2),Object(o["createVNode"])("div",Re,[Object(o["createVNode"])("i",{class:[e.data.logo_class,"fa-2x"],style:{"padding-left":"2px"}},null,2)])])],42,["data-node","data-data"])}var Me=Object(o["defineComponent"])({name:"MenuBlockComponent",props:{id:Number,blockId:String,data:Object},computed:{blockTypeClass:function(){var e="";switch(this.data.block_type){case"ACT":e="bg-primary";break;case"TRG":e="bg-secondary";break;case"LOG":e="bg-info";break;default:}return e}},methods:{drag:function(e){e.dataTransfer.setData("node",e.target.getAttribute("data-node")),e.dataTransfer.setData("data",JSON.stringify(this.data))}}});a("d293"),a("dd80");Me.render=Ie;var Ue=Me;const He={class:"placeholder"},$e={class:"av__placeholder"},Ke={class:"h4__placeholder"},_e={class:"p__placeholder"},Ge={class:"p__placeholder"};function Je(e,t){const a=Object(o["resolveComponent"])("Skeletor");return Object(o["openBlock"])(),Object(o["createBlock"])("div",He,[Object(o["createVNode"])("div",$e,[Object(o["createVNode"])(a,{circle:"",size:"48"})]),Object(o["createVNode"])("h4",Ke,[Object(o["createVNode"])(a,{height:"22"})]),Object(o["createVNode"])("p",_e,[Object(o["createVNode"])(a,{height:"16"})]),Object(o["createVNode"])("p",Ge,[Object(o["createVNode"])(a,{height:"16"})])])}var We=a("df33"),Ye={name:"MenuBlockPlaceholderComponent",components:{Skeletor:We["a"]}};a("3b5b");Ye.render=Je;var ze=Ye,Ze=a("94c2"),Qe=[],Xe=Object(o["defineComponent"])({name:"BlocksMenuComponent",props:{blocks:Object,show:Boolean},components:{MenuBlock:Ue,MenuBlockPlaceHolder:ze},watch:{blocks:{handler:function(e){this.assignBlocks(e),this.isLoadingData=!1}}},data:function(){return{items:Qe,isLoadingData:!1,filter:"",filteredItems:Qe,processedItems:Qe,searchKey:"",sideBarCollapsed:!1}},created:function(){var e=this;this.blocks?this.assignBlocks(this.blocks):this.isLoadingData=!0,Ze["a"].emitter.on("sidebar-toggle-sidebar",(function(t){e.sideBarCollapsed=t}))},methods:{assignBlocks:function(e){this.items=e,this.filteredItems=e,this.processedItems=e},numberOfType:function(e){var t=this,a=this.searchKey?this.items.filter((function(e){return e.name.toUpperCase().indexOf(t.searchKey.toUpperCase())>-1})):this.items,o=a.filter((function(t){return e===t.block_type}));return Object.keys(o).length},setSearchKey:function(e){this.searchKey=e,this.searchBlock()},updateData:function(e){this.items=e,this.filteredItems=e,this.isLoadingData=!1},searchBlock:function(){var e=this,t=this.filteredItems.filter((function(t){return t.name.toUpperCase().indexOf(e.searchKey.toUpperCase())>-1}));this.processedItems=t},addFilter:function(e){var t=this;this.filter=this.filter===e?"":e;var a=this.items.filter((function(e){return t.filter===e.block_type}));this.filteredItems=""!==this.filter?a:this.items,this.processedItems=this.filteredItems,this.searchKey&&this.searchBlock()}}});a("fe41");Xe.render=we;var et=Xe,tt=a("5502"),at=a("f1e8"),ot=a("ac15"),ct=a("f8d5"),nt=a("8fba"),lt=a("ec26"),rt=a("25a0"),it=a("e3e1");function st(e){return-1!==[null,void 0,!1].indexOf(e)}function ut(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?String(e).toLowerCase().trim():String(e).normalize("NFD").replace(/(?:[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u17C9-\u17D3\u17DD\u1939-\u193B\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1DC4-\u1DCF\u1DF5-\u1DF9\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F8\uA7F9\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3]|\uD800\uDEE0|\uD802[\uDEE5\uDEE6]|\uD803[\uDD22-\uDD27\uDF46-\uDF50]|\uD804[\uDCB9\uDCBA\uDD33\uDD34\uDD73\uDDC0\uDDCA-\uDDCC\uDE35\uDE36\uDEE9\uDEEA\uDF3C\uDF4D\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC42\uDC46\uDCC2\uDCC3\uDDBF\uDDC0\uDE3F\uDEB6\uDEB7\uDF2B]|\uD806[\uDC39\uDC3A\uDD3D\uDD3E\uDD43\uDDE0\uDE34\uDE47\uDE99]|\uD807[\uDC3F\uDD42\uDD44\uDD45\uDD97]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF8F-\uDF9F\uDFF0\uDFF1]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD838[\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD46\uDD48-\uDD4A])/g,"").toLowerCase().trim()}function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function pt(e,t,a){var c=Object(o["toRefs"])(e),n=c.options,l=c.mode,r=c.trackBy,i=c.limit,s=c.hideSelected,u=c.createTag,d=c.label,b=c.appendNewTag,p=c.multipleLabel,v=c.object,f=c.loading,h=c.delay,m=c.resolveOnLoad,O=c.minChars,j=c.filterResults,g=c.clearOnSearch,y=c.clearOnSelect,k=c.valueProp,D=c.canDeselect,N=c.max,B=c.strict,C=c.closeOnSelect,V=a.iv,S=a.ev,F=a.search,w=a.clearSearch,T=a.update,x=a.pointer,A=a.blur,q=a.deactivate,L=Object(o["ref"])([]),E=Object(o["ref"])([]),P=Object(o["ref"])(!1),R=Object(o["computed"])((function(){var e,t=E.value||[];return e=t,"[object Object]"===Object.prototype.toString.call(e)&&(t=Object.keys(t).map((function(e){var a,o=t[e];return bt(a={},k.value,e),bt(a,r.value,o),bt(a,d.value,o),a}))),t=t.map((function(e,t){var a;return"object"===dt(e)?e:(bt(a={},k.value,e),bt(a,r.value,e),bt(a,d.value,e),a)})),L.value.length&&(t=t.concat(L.value)),t})),I=Object(o["computed"])((function(){var e=R.value;return K.value.length&&(e=K.value.concat(e)),F.value&&j.value&&(e=e.filter((function(e){return-1!==ut(e[r.value],B.value).indexOf(ut(F.value,B.value))}))),s.value&&(e=e.filter((function(e){return!oe(e)}))),i.value>0&&(e=e.slice(0,i.value)),e})),M=Object(o["computed"])((function(){switch(l.value){case"single":return!st(V.value[k.value]);case"multiple":case"tags":return!st(V.value)&&V.value.length>0}})),U=Object(o["computed"])((function(){return void 0!==p&&void 0!==p.value?p.value(V.value):V.value&&V.value.length>1?"".concat(V.value.length," options selected"):"1 option selected"})),H=Object(o["computed"])((function(){return!R.value.length&&!P.value})),$=Object(o["computed"])((function(){return R.value.length>0&&0==I.value.length})),K=Object(o["computed"])((function(){var e;return!1!==u.value&&F.value?-1!==ae(F.value)?[]:[(e={},bt(e,k.value,F.value),bt(e,d.value,F.value),bt(e,r.value,F.value),e)]:[]})),_=Object(o["computed"])((function(){switch(l.value){case"single":return null;case"multiple":case"tags":return[]}})),G=Object(o["computed"])((function(){return f.value||P.value})),J=function(e){switch("object"!==dt(e)&&(e=te(e)),l.value){case"single":T(e);break;case"multiple":case"tags":T(V.value.concat(e))}t.emit("select",Y(e),e)},W=function(e){switch("object"!==dt(e)&&(e=te(e)),l.value){case"single":Z();break;case"tags":case"multiple":T(V.value.filter((function(t){return t[k.value]!=e[k.value]})))}t.emit("deselect",Y(e),e)},Y=function(e){return v.value?e:e[k.value]},z=function(e){W(e)},Z=function(){t.emit("clear"),T(_.value)},Q=function(e){switch(l.value){case"single":return!st(V.value)&&V.value[k.value]==e[k.value];case"tags":case"multiple":return!st(V.value)&&-1!==V.value.map((function(e){return e[k.value]})).indexOf(e[k.value])}},X=function(e){return!0===e.disabled},ee=function(){return!(void 0===N||-1===N.value||!M.value&&N.value>0)&&V.value.length>=N.value},te=function(e){return R.value[R.value.map((function(e){return String(e[k.value])})).indexOf(String(e))]},ae=function(e){return R.value.map((function(e){return ut(e[r.value])})).indexOf(ut(e))},oe=function(e){return"tags"===l.value&&s.value&&Q(e)},ce=function(e){L.value.push(e)},ne=function(){st(S.value)||(V.value=re(S.value))},le=function(e){P.value=!0,n.value(F.value).then((function(t){E.value=t,"function"==typeof e&&e(t),P.value=!1}))},re=function(e){return st(e)?"single"===l.value?{}:[]:v.value?e:"single"===l.value?te(e)||{}:e.filter((function(e){return!!te(e)})).map((function(e){return te(e)}))};if("single"!==l.value&&!st(S.value)&&!Array.isArray(S.value))throw new Error('v-model must be an array when using "'.concat(l.value,'" mode'));return n&&"function"==typeof n.value?m.value?le(ne):1==v.value&&ne():(E.value=n.value,ne()),h.value>-1&&Object(o["watch"])(F,(function(e){e.length<O.value||(P.value=!0,g.value&&(E.value=[]),setTimeout((function(){e==F.value&&n.value(F.value).then((function(t){e==F.value&&(E.value=t,x.value=I.value.filter((function(e){return!0!==e.disabled}))[0]||null,P.value=!1)}))}),h.value))}),{flush:"sync"}),Object(o["watch"])(S,(function(e){var t,a,o;if(st(e))V.value=re(e);else switch(l.value){case"single":(v.value?e[k.value]!=V.value[k.value]:e!=V.value[k.value])&&(V.value=re(e));break;case"multiple":case"tags":t=v.value?e.map((function(e){return e[k.value]})):e,a=V.value.map((function(e){return e[k.value]})),o=a.slice().sort(),t.length===a.length&&t.slice().sort().every((function(e,t){return e===o[t]}))||(V.value=re(e))}}),{deep:!0}),"function"!=typeof e.options&&Object(o["watch"])(n,(function(t,a){E.value=e.options,Object.keys(V.value).length||ne(),function(){if(M.value)if("single"===l.value){var e=te(V.value[k.value])[d.value];V.value[d.value]=e,v.value&&(S.value[d.value]=e)}else V.value.forEach((function(e,t){var a=te(V.value[t][k.value])[d.value];V.value[t][d.value]=a,v.value&&(S.value[t][d.value]=a)}))}()})),{fo:I,filteredOptions:I,hasSelected:M,multipleLabelText:U,eo:R,extendedOptions:R,noOptions:H,noResults:$,resolving:P,busy:G,select:J,deselect:W,remove:z,clear:Z,isSelected:Q,isDisabled:X,isMax:ee,getOption:te,handleOptionClick:function(e){if(!X(e)){switch(l.value){case"single":if(Q(e))return void(D.value&&W(e));A(),J(e);break;case"multiple":if(Q(e))return void W(e);if(ee())return;J(e),y.value&&w();break;case"tags":if(Q(e))return void W(e);if(ee())return;void 0===te(e[k.value])&&u.value&&(t.emit("tag",e[k.value]),b.value&&ce(e),w()),y.value&&w(),J(e)}C.value&&q()}},handleTagRemove:function(e,t){0===t.button?z(e):t.preventDefault()},refreshOptions:function(e){le(e)},resolveOptions:le}}function vt(e){return function(e){if(Array.isArray(e))return ft(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ft(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ft(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}function ht(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function mt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ot(e,t,a){var c=Object(o["toRefs"])(e),n=c.disabled,l=c.openDirection,r=c.showOptions,i=a.isOpen,s=a.isPointed,u=a.isSelected,d=a.isDisabled,b=a.isActive,p=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(a),!0).forEach((function(t){mt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ht(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",singleLabel:"multiselect-single-label",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",spacer:"multiselect-spacer"},c.classes.value);return{classList:Object(o["computed"])((function(){return{container:[p.container].concat(n.value?p.containerDisabled:[]).concat(i.value&&"top"===l.value&&r.value?p.containerOpenTop:[]).concat(i.value&&"top"!==l.value&&r.value?p.containerOpen:[]).concat(b.value?p.containerActive:[]),spacer:p.spacer,singleLabel:p.singleLabel,multipleLabel:p.multipleLabel,search:p.search,tags:p.tags,tag:[p.tag].concat(n.value?p.tagDisabled:[]),tagRemove:p.tagRemove,tagRemoveIcon:p.tagRemoveIcon,tagsSearchWrapper:p.tagsSearchWrapper,tagsSearch:p.tagsSearch,tagsSearchCopy:p.tagsSearchCopy,placeholder:p.placeholder,caret:[p.caret].concat(i.value?p.caretOpen:[]),clear:p.clear,clearIcon:p.clearIcon,spinner:p.spinner,dropdown:[p.dropdown].concat("top"===l.value?p.dropdownTop:[]).concat(i.value&&r.value?[]:p.dropdownHidden),options:[p.options].concat("top"===l.value?p.optionsTop:[]),option:function(e){var t=[p.option];return s(e)?t.push(u(e)?p.optionSelectedPointed:p.optionPointed):u(e)?t.push(d(e)?p.optionSelectedDisabled:p.optionSelected):d(e)&&t.push(p.optionDisabled),t},noOptions:p.noOptions,noResults:p.noResults,fakeInput:p.fakeInput}}))}}var jt={name:"Multiselect",emits:["open","close","select","deselect","input","search-change","tag","update:modelValue","change","clear"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:"label"},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:!1},appendNewTag:{type:Boolean,required:!1,default:!0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:String,required:!1,default:"The list is empty"},noResultsText:{type:String,required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},addTagOn:{type:Array,required:!1,default:()=>["enter"]},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0}},setup(e,t){const a=function(e,t){var a=Object(o["toRefs"])(e),c=a.value,n=a.modelValue,l=a.mode,r=a.valueProp,i=Object(o["ref"])("single"!==l.value?[]:{}),s=void 0!==t.expose?n:c,u=Object(o["computed"])((function(){return"single"===l.value?i.value[r.value]:i.value.map((function(e){return e[r.value]}))})),d=Object(o["computed"])((function(){return"single"!==l.value?i.value.map((function(e){return e[r.value]})).join(","):i.value[r.value]}));return{iv:i,internalValue:i,ev:s,externalValue:s,textValue:d,plainValue:u}}(e,t),c={pointer:Object(o["ref"])(null)},n=function(e,t,a){var c=Object(o["toRefs"])(e).disabled,n=Object(o["ref"])(!1);return{isOpen:n,open:function(){n.value||c.value||(n.value=!0,t.emit("open"))},close:function(){n.value&&(n.value=!1,t.emit("close"))}}}(e,t),l=function(e,t,a){var c=Object(o["ref"])(null),n=Object(o["ref"])(null);return Object(o["watch"])(c,(function(e){t.emit("search-change",e)})),{search:c,input:n,clearSearch:function(){c.value=""},handleSearchInput:function(e){c.value=e.target.value}}}(0,t),r=function(e,t,a){var c=Object(o["toRefs"])(e),n=c.object,l=c.valueProp,r=c.mode,i=a.iv,s=function(e){return n.value||st(e)?e:Array.isArray(e)?e.map((function(e){return e[l.value]})):e[l.value]},u=function(e){return st(e)?"single"===r.value?{}:[]:e};return{update:function(e){i.value=u(e);var a=s(e);t.emit("change",a),t.emit("input",a),t.emit("update:modelValue",a)}}}(e,t,{iv:a.iv}),i=function(e,t,a){var c=Object(o["toRefs"])(e),n=c.searchable,l=c.disabled,r=a.input,i=a.open,s=a.close,u=a.clearSearch,d=Object(o["ref"])(null),b=Object(o["ref"])(!1),p=Object(o["computed"])((function(){return n.value||l.value?-1:0})),v=function(){n.value&&r.value.blur(),d.value.blur()},f=function(){b.value=!1,setTimeout((function(){b.value||(s(),u())}),1)};return{multiselect:d,tabindex:p,isActive:b,blur:v,handleFocus:function(){n.value&&!l.value&&r.value.focus()},activate:function(){l.value||(b.value=!0,i())},deactivate:f,handleCaretClick:function(){f(),v()}}}(e,0,{input:l.input,open:n.open,close:n.close,clearSearch:l.clearSearch}),s=pt(e,t,{ev:a.ev,iv:a.iv,search:l.search,clearSearch:l.clearSearch,update:r.update,pointer:c.pointer,blur:i.blur,deactivate:i.deactivate}),u=function(e,t,a){var c=Object(o["toRefs"])(e),n=c.valueProp,l=c.showOptions,r=c.searchable,i=a.fo,s=a.handleOptionClick,u=a.search,d=a.pointer,b=a.multiselect,p=Object(o["computed"])((function(){return i.value.filter((function(e){return!0!==e.disabled}))})),v=function(e){void 0===e||null!==e&&e.disabled||(d.value=e)},f=function(){v(p.value[0]||null)},h=function(){v(null)},m=function(){var e=b.value.querySelector("[data-pointed]");if(e){var t=e.parentElement.parentElement;e.offsetTop+e.offsetHeight>t.clientHeight+t.scrollTop&&(t.scrollTop=e.offsetTop+e.offsetHeight-t.clientHeight),e.offsetTop<t.scrollTop&&(t.scrollTop=e.offsetTop)}};return Object(o["watch"])(u,(function(e){r.value&&(e.length&&l.value?f():h())})),{pointer:d,isPointed:function(e){return!!d.value&&d.value[n.value]==e[n.value]},setPointer:v,setPointerFirst:f,clearPointer:h,selectPointer:function(){d.value&&!0!==d.value.disabled&&s(d.value)},forwardPointer:function(){if(null===d.value)v(p.value[0]||null);else{var e=p.value.map((function(e){return e[n.value]})).indexOf(d.value[n.value])+1;p.value.length<=e&&(e=0),v(p.value[e]||null)}Object(o["nextTick"])((function(){m()}))},backwardPointer:function(){if(null===d.value)v(p.value[p.value.length-1]||null);else{var e=p.value.map((function(e){return e[n.value]})).indexOf(d.value[n.value])-1;e<0&&(e=p.value.length-1),v(p.value[e]||null)}Object(o["nextTick"])((function(){m()}))}}}(e,0,{fo:s.fo,handleOptionClick:s.handleOptionClick,search:l.search,pointer:c.pointer,multiselect:i.multiselect}),d=function(e,t,a){var c=Object(o["toRefs"])(e),n=c.mode,l=c.addTagOn,r=c.createTag,i=c.openDirection,s=c.searchable,u=c.showOptions,d=c.valueProp,b=a.iv,p=a.update,v=a.search,f=a.setPointer,h=a.selectPointer,m=a.backwardPointer,O=a.forwardPointer,j=a.blur,g=a.fo,y=function(){"tags"===n.value&&!u.value&&r.value&&s.value&&f(g.value[g.value.map((function(e){return e[d.value]})).indexOf(v.value)]),h()};return{handleKeydown:function(e){switch(e.keyCode){case 8:if("single"===n.value)return;if(s.value&&-1===[null,""].indexOf(v.value))return;if(0===b.value.length)return;p(vt(b.value).slice(0,-1));break;case 13:if(e.preventDefault(),"tags"===n.value&&-1===l.value.indexOf("enter"))return;y();break;case 27:j();break;case 32:if("tags"!==n.value&&s.value)return;if("tags"===n.value&&-1===l.value.indexOf("space"))return;e.preventDefault(),y();break;case 38:if(e.preventDefault(),!u.value)return;"top"===i.value?O():m();break;case 40:if(e.preventDefault(),!u.value)return;"top"===i.value?m():O();break;case 186:if("tags"!==n.value)return;if(-1===l.value.indexOf(";")||!r.value)return;y(),e.preventDefault();break;case 188:if("tags"!==n.value)return;if(-1===l.value.indexOf(",")||!r.value)return;y(),e.preventDefault()}}}}(e,0,{iv:a.iv,update:r.update,search:l.search,setPointer:u.setPointer,selectPointer:u.selectPointer,backwardPointer:u.backwardPointer,forwardPointer:u.forwardPointer,blur:i.blur,fo:s.fo}),b=Ot(e,0,{isOpen:n.isOpen,isPointed:u.isPointed,isSelected:s.isSelected,isDisabled:s.isDisabled,isActive:i.isActive});return{...a,...n,...i,...c,...r,...l,...s,...u,...d,...b}},render:function(e,t,a,c,n,l){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{ref:"multiselect",tabindex:e.tabindex,class:e.classList.container,id:a.id,onFocusin:t[5]||(t[5]=(...t)=>e.activate&&e.activate(...t)),onFocusout:t[6]||(t[6]=(...t)=>e.deactivate&&e.deactivate(...t)),onKeydown:t[7]||(t[7]=(...t)=>e.handleKeydown&&e.handleKeydown(...t)),onFocus:t[8]||(t[8]=(...t)=>e.handleFocus&&e.handleFocus(...t))},[Object(o["createCommentVNode"])(" Search "),"tags"!==a.mode&&a.searchable&&!a.disabled?(Object(o["openBlock"])(),Object(o["createBlock"])("input",{key:0,modelValue:e.search,value:e.search,class:e.classList.search,onInput:t[1]||(t[1]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),ref:"input"},null,42,["modelValue","value"])):Object(o["createCommentVNode"])("v-if",!0),Object(o["createCommentVNode"])(" Tags (with search) "),"tags"==a.mode?(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:1,class:e.classList.tags},[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.iv,(t,c,n)=>Object(o["renderSlot"])(e.$slots,"tag",{option:t,handleTagRemove:e.handleTagRemove,disabled:a.disabled},()=>[(Object(o["openBlock"])(),Object(o["createBlock"])("span",{class:e.classList.tag,key:n},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t[a.label])+" ",1),a.disabled?Object(o["createCommentVNode"])("v-if",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("span",{key:0,class:e.classList.tagRemove,onMousedown:Object(o["withModifiers"])(a=>e.handleTagRemove(t,a),["prevent"])},[Object(o["createVNode"])("span",{class:e.classList.tagRemoveIcon},null,2)],42,["onMousedown"]))],2))])),256)),Object(o["createVNode"])("div",{class:e.classList.tagsSearchWrapper},[Object(o["createCommentVNode"])(" Used for measuring search width "),Object(o["createVNode"])("span",{class:e.classList.tagsSearchCopy},Object(o["toDisplayString"])(e.search),3),Object(o["createCommentVNode"])(" Actual search input "),a.searchable&&!a.disabled?(Object(o["openBlock"])(),Object(o["createBlock"])("input",{key:0,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,onInput:t[2]||(t[2]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),ref:"input"},null,42,["modelValue","value"])):Object(o["createCommentVNode"])("v-if",!0)],2)],2)):Object(o["createCommentVNode"])("v-if",!0),Object(o["createCommentVNode"])(" Single label "),"single"==a.mode&&e.hasSelected&&!e.search&&e.iv?Object(o["renderSlot"])(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[Object(o["createVNode"])("div",{class:e.classList.singleLabel},Object(o["toDisplayString"])(e.iv[a.label]),3)]):Object(o["createCommentVNode"])("v-if",!0),Object(o["createCommentVNode"])(" Multiple label "),"multiple"==a.mode&&e.hasSelected&&!e.search?Object(o["renderSlot"])(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[Object(o["createVNode"])("div",{class:e.classList.multipleLabel},Object(o["toDisplayString"])(e.multipleLabelText),3)]):Object(o["createCommentVNode"])("v-if",!0),Object(o["createCommentVNode"])(" Placeholder "),!a.placeholder||e.hasSelected||e.search?Object(o["createCommentVNode"])("v-if",!0):Object(o["renderSlot"])(e.$slots,"placeholder",{key:4},()=>[Object(o["createVNode"])("div",{class:e.classList.placeholder},Object(o["toDisplayString"])(a.placeholder),3)]),Object(o["createCommentVNode"])(" Spinner "),e.busy?Object(o["renderSlot"])(e.$slots,"spinner",{key:5},()=>[Object(o["createVNode"])("span",{class:e.classList.spinner},null,2)]):Object(o["createCommentVNode"])("v-if",!0),Object(o["createCommentVNode"])(" Clear "),e.hasSelected&&!a.disabled&&a.canClear&&!e.busy?Object(o["renderSlot"])(e.$slots,"clear",{key:6,clear:e.clear},()=>[Object(o["createVNode"])("span",{class:e.classList.clear,onMousedown:t[3]||(t[3]=(...t)=>e.clear&&e.clear(...t))},[Object(o["createVNode"])("span",{class:e.classList.clearIcon},null,2)],34)]):Object(o["createCommentVNode"])("v-if",!0),Object(o["createCommentVNode"])(" Caret "),a.caret?Object(o["renderSlot"])(e.$slots,"caret",{key:7},()=>[Object(o["createVNode"])("span",{class:e.classList.caret,onClick:t[4]||(t[4]=(...t)=>e.handleCaretClick&&e.handleCaretClick(...t))},null,2)]):Object(o["createCommentVNode"])("v-if",!0),Object(o["createCommentVNode"])(" Options "),Object(o["createVNode"])("div",{class:e.classList.dropdown,tabindex:"-1"},[Object(o["renderSlot"])(e.$slots,"beforelist",{options:e.fo}),Object(o["createVNode"])("ul",{class:e.classList.options},[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.fo,(t,c,n)=>(Object(o["openBlock"])(),Object(o["createBlock"])("li",{class:e.classList.option(t),key:n,"data-pointed":e.isPointed(t),onMouseenter:a=>e.setPointer(t),onClick:a=>e.handleOptionClick(t)},[Object(o["renderSlot"])(e.$slots,"option",{option:t,search:e.search},()=>[Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(t[a.label]),1)])],42,["data-pointed","onMouseenter","onClick"]))),128))],2),e.noOptions?Object(o["renderSlot"])(e.$slots,"nooptions",{key:0},()=>[Object(o["createVNode"])("div",{class:e.classList.noOptions,innerHTML:a.noOptionsText},null,10,["innerHTML"])]):Object(o["createCommentVNode"])("v-if",!0),e.noResults?Object(o["renderSlot"])(e.$slots,"noresults",{key:1},()=>[Object(o["createVNode"])("div",{class:e.classList.noResults,innerHTML:a.noResultsText},null,10,["innerHTML"])]):Object(o["createCommentVNode"])("v-if",!0),Object(o["renderSlot"])(e.$slots,"afterlist",{options:e.fo})],2),Object(o["createCommentVNode"])(" Hacky input element to show HTML5 required warning "),a.required?(Object(o["openBlock"])(),Object(o["createBlock"])("input",{key:8,class:e.classList.fakeInput,tabindex:"-1",value:e.textValue,required:""},null,10,["value"])):Object(o["createCommentVNode"])("v-if",!0),Object(o["createCommentVNode"])(" Native input support "),a.nativeSupport?(Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],{key:9},["single"==a.mode?(Object(o["openBlock"])(),Object(o["createBlock"])("input",{key:0,type:"hidden",name:a.name,value:void 0!==e.plainValue?e.plainValue:""},null,8,["name","value"])):(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],{key:1},Object(o["renderList"])(e.plainValue,(e,t)=>(Object(o["openBlock"])(),Object(o["createBlock"])("input",{type:"hidden",name:a.name+"[]",value:e,key:t},null,8,["name","value"]))),128))],64)):Object(o["createCommentVNode"])("v-if",!0),Object(o["createCommentVNode"])(" Create height for empty input "),Object(o["createVNode"])("div",{class:e.classList.spacer},null,2)],42,["tabindex","id"])},__file:"src/Multiselect.vue"},gt=jt,yt=a("2dad"),kt=(a("4238"),a("fe26"),a("514a"),Object(o["defineComponent"])({name:"Editor",setup:function(){var e=Object(tt["b"])();return{store:e,v$:Object(rt["a"])(),context:"/demo/"}},data:function(){return{open:!1,blocks:null,fullPage:!0,authToken:null,bot:null,isLoading:!0,activationShow:!1,activationLoading:!1,saveError:!1,saveSuccess:!1,saveLoading:!1,isEditingName:!1,isFlowValid:!1,botNameValidation:!0,usesTemplate:!1,editorAreaHeight:0,showingToast:!1,dfKey:Object(lt["a"])(),toolsCollapsed:!1,botFrequencyUnit:"MIN",triggerType:"SCH",triggerTypeOptions:[{label:"Every",value:"SCH"},{label:"Trigger",value:"ADH"}],scheduleOptions:[{label:"minutes",value:"MIN"},{label:"hours",value:"HR"},{label:"days",value:"DAY"}],calcBotFrequency:10,botName:"Untitled Boto",preSaveBotName:"",botFrequency:10}},components:{AdminLayout:X["a"],Loading:ee["a"],DrawFlow:Q["a"],BlocksMenu:et,BotoModal:nt["a"],Multiselect:gt,Toggle:yt["a"]},beforeUnmount:function(){this.bot=null},validations:function(){return{botName:{required:it["c"],minLength:Object(it["b"])(5),maxLength:Object(it["a"])(80)}}},methods:{validationStatusCheck:function(){this.botNameValidation=!this.v$.$invalid},showToast:function(e,t){this.$toast.open({message:t,type:e,duration:5e3,dismissible:!0,position:"top-right"})},cleanSave:function(){var e=this;setTimeout((function(){e.saveLoading=!1,e.saveSuccess=!1,e.saveError=!1}),3e3)},clearBot:function(){this.bot=null,this.botName="Untitled",this.store.commit("removeTemplate"),this.$refs["drawflowEditor"].clearBot();var e=Object(lt["a"])();window.location.href=this.context+"editor?"+e},editBotName:function(){this.preSaveBotName=this.botName,this.isEditingName=!0},cancelPreSaveBotName:function(){this.botName=this.preSaveBotName,this.isEditingName=!1},savePreSaveBotName:function(){this.botNameValidation&&(this.isEditingName=!1)},cancelActivateBot:function(){this.activationShow=!1},activateBot:function(){return Object(Z["b"])(this,void 0,void 0,(function(){var e;return Object(Z["c"])(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this.activationLoading=!0,[4,this.switchBoto("ON")];case 1:return t.sent(),at["a"].push({name:"home.botos",params:{botId:this.bot.id,botName:this.bot.name,botFrequency:this.bot.frequency,botSchedule:this.bot.schedule,botFrequencyUnit:this.bot.frequency_unit}}),[3,3];case 2:return e=t.sent(),console.error(e),this.showToast("error","There was a problem trying to activate this bot."),this.activationLoading=!1,[3,3];case 3:return this.activationShow=!1,[2]}}))}))},toggleTools:function(){this.toolsCollapsed=!this.toolsCollapsed},saveBot:function(){var e;return Object(Z["b"])(this,void 0,void 0,(function(){var t,a,o,c,n,l,r;return Object(Z["c"])(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),this.isFlowValid?(this.saveLoading=!0,this.saveSuccess=!1,this.saveError=!1,t=this.$refs["drawflowEditor"].export(),a=this.triggerType,o={name:this.botName,json:t.json,schedule:a},"SCH"===a&&(o["frequency"]=this.calcBotFrequency,o["frequency_unit"]=this.botFrequencyUnit),c=this.bot&&!this.usesTemplate?ot["a"].PUT:ot["a"].POST,n="https://api.boto.io/api/bots/",this.bot&&!this.usesTemplate&&(n=""+n+(null===(e=this.bot)||void 0===e?void 0:e.id)+"/"),[4,ct["a"].request(n,this.authToken,c,JSON.stringify(o))]):[3,2];case 1:l=i.sent(),(!this.bot||this.bot&&this.usesTemplate)&&(this.activationShow=!0),this.store.commit("removeTemplate"),this.usesTemplate=!1,this.bot=l,this.saveLoading=!1,this.saveSuccess=!0,this.cleanSave(),i.label=2;case 2:return[3,4];case 3:return r=i.sent(),this.showToast("error","There was a problem trying to save this bot."),this.activationLoading=!1,this.saveLoading=!1,this.saveSuccess=!1,this.saveError=!0,console.error(r),this.cleanSave(),[3,4];case 4:return[2]}}))}))},activateDeactivateBoto:function(){return Object(Z["b"])(this,void 0,void 0,(function(){var e;return Object(Z["c"])(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this.activationLoading=!0,e=this.bot.status,[4,this.switchBoto(e)];case 1:return t.sent(),this.bot.status=e,this.showToast("success","Your boto has been switched "+e+"!"),this.activationLoading=!1,[3,3];case 2:return t.sent(),this.showToast("error","Your boto could not be switched "+e+"!"),this.activationLoading=!1,[3,3];case 3:return[2]}}))}))},switchBoto:function(e){return Object(Z["b"])(this,void 0,void 0,(function(){var t,a,o,c,n,l;return Object(Z["c"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=new Headers,a=new FormData,o="https://api.boto.io/api/bot/"+this.bot.id+"/",a.append("name",this.bot.name),a.append("status",e),a.append("frequency",this.bot.frequency.toString()),c={method:"PUT",headers:t,body:a},t.append("Authorization","Token "+this.authToken),[4,fetch(o,c)];case 1:if(n=r.sent(),!n.ok)throw new Error("An error has occured: "+n.status);return[3,3];case 2:return l=r.sent(),this.showToast("error","There was a problem trying to activate this bot."),this.activationLoading=!1,console.error(l),[3,3];case 3:return[2]}}))}))},getBlocks:function(){return Object(Z["b"])(this,void 0,void 0,(function(){return Object(Z["c"])(this,(function(e){switch(e.label){case 0:return[4,ct["a"].request("https://api.boto.io/api/my/blocks/",this.authToken,ot["a"].GET)];case 1:return[2,e.sent()]}}))}))},getBot:function(e){return Object(Z["b"])(this,void 0,void 0,(function(){return Object(Z["c"])(this,(function(t){switch(t.label){case 0:return[4,ct["a"].request("https://api.boto.io/api/bot/"+e+"/",this.authToken,ot["a"].GET)];case 1:return[2,t.sent()]}}))}))},resetEventListeners:function(){Ze["a"].emitter.off("editor-block-update-block-updated"),Ze["a"].emitter.off("editor-valid-status")},whenChange:function(){"0"===this.botFrequencyUnit&&(this.botFrequencyUnit="MIN")},calculateRealFrequency:function(){switch(this.botFrequencyUnit){case"MIN":this.calcBotFrequency=this.botFrequency;break;case"HR":this.calcBotFrequency=60*this.botFrequency;break;case"DAY":this.calcBotFrequency=24*this.botFrequency*60;break}},onFrequencyChange:function(e){this.botFrequency=e,this.calculateRealFrequency()},getDisplayFrequency:function(e,t){var a=e;switch(t){case"HR":a=e/60;break;case"DAY":a=e/24/60;break}return a},frequencyUnitChange:function(e){this.botFrequencyUnit=e,this.calculateRealFrequency()}},created:function(){var e=this;navigator.onLine||at["a"].push({name:"home.offline",params:{route:this.$route.fullPath}}),document.addEventListener("keydown",(function(t){t.ctrlKey&&"s"===t.key&&(t.preventDefault(),e.saveBot())}))},mounted:function(){return Object(Z["b"])(this,void 0,void 0,(function(){var e,t,a,o,c,n,l=this;return Object(Z["c"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,8,,9]),this.resetEventListeners(),this.authToken=this.store.getters.localStorageAuthToken,e=this.store.getters.localStorageTemplate,t=this,[4,this.getBlocks()];case 1:return t.blocks=r.sent(),a=this.$route.params.id,a?(this.store.commit("removeTemplate"),[4,this.getBot(a.toString())]):[3,3];case 2:return o=r.sent(),this.bot=o,this.usesTemplate=!1,this.botName=o.name,this.botFrequencyUnit=o.frequency_unit||"MIN",this.calcBotFrequency=o.frequency,this.triggerType=o.schedule,this.botFrequency=this.getDisplayFrequency(o.frequency,this.botFrequencyUnit),[3,7];case 3:return e?(o=void 0,c=JSON.parse(e),c.copy?[4,this.getBot(c.id)]:[3,5]):[3,7];case 4:return o=r.sent(),o.name=c.name,o.id=null,o.copy=!0,[3,6];case 5:o=JSON.parse(e),r.label=6;case 6:this.botName=o.name,this.bot=o,this.usesTemplate=!0,this.bot&&this.bot.copy&&(this.showToast("success","Your bot has been copied!"),delete this.bot.copy),r.label=7;case 7:return this.isFlowValid=!this.v$.$invalid,this.isLoading=!1,Ze["a"].emitter.on("editor-valid-status",(function(e){l.isFlowValid=e})),Ze["a"].emitter.on("editor-trigger-type",(function(e){l.triggerType=e})),Ze["a"].emitter.on("editor-block-update-block-updated",(function(e,t,a){t?l.showToast("success","Block "+a.name+" has been upgraded to the latest version!"):l.showToast("error","There was a problem trying to update this bot.")})),setTimeout((function(){Ze["a"].emitter.emit("sidebar-toggle-sidebar",!0)}),100),[3,9];case 8:return n=r.sent(),console.error(n),this.showToast("error","There was a problem trying to load this bot."),this.isLoading=!1,[3,9];case 9:return[2]}}))}))}}));a("d02e"),a("f1aa");kt.render=z;t["default"]=kt},dd80:function(e,t,a){"use strict";a("9ba2")},f1aa:function(e,t,a){"use strict";a("cda1")},fe41:function(e,t,a){"use strict";a("6f2f")}}]);
//# sourceMappingURL=chunk-2c7660ba-legacy.2ce7ec15.js.map