(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5705d44f"],{"050c":function(e,t,c){},"0e44":function(e,t,c){"use strict";c("5fb5")},"5fb5":function(e,t,c){},"829a":function(e,t,c){"use strict";c.r(t);var o=c("7a23");const a=Object(o["createVNode"])("div",{class:"col-auto d-none d-sm-block"},[Object(o["createVNode"])("h3",null,"My Botos")],-1),n={class:"container"},r={class:"row"},l={class:"col-md-12"},d={key:0,class:"alert alert-light p-4"},i=Object(o["createTextVNode"])(" You have not created any Botos yet, go "),u=Object(o["createVNode"])("span",null,"create one!",-1),s={key:1,class:"table-wrap"},b={class:"table table-striped"},h=Object(o["createVNode"])("thead",null,[Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("th",null,"Id"),Object(o["createVNode"])("th",null,"Name"),Object(o["createVNode"])("th",null,"Frequency"),Object(o["createVNode"])("th",null,"Status"),Object(o["createVNode"])("th")])],-1),O={scope:"row"},p={key:0,class:"alert alert-warning p-4"};function f(e,t){const c=Object(o["resolveComponent"])("router-link"),f=Object(o["resolveComponent"])("botos-row-place-holder"),g=Object(o["resolveComponent"])("Toggle"),j=Object(o["resolveComponent"])("admin-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(j,null,{default:Object(o["withCtx"])(()=>[a,Object(o["createVNode"])("div",n,[Object(o["createVNode"])("section",null,[Object(o["createVNode"])("div",r,[Object(o["createVNode"])("div",l,[0!==e.items.length||e.isLoadingData||e.error?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("div",d,[i,Object(o["createVNode"])(c,{to:{name:"home.editor"},class:"ml-2"},{default:Object(o["withCtx"])(()=>[u]),_:1},8,["to"])])),e.items.length>0&&!e.error?(Object(o["openBlock"])(),Object(o["createBlock"])("div",s,[Object(o["createVNode"])("table",b,[h,Object(o["createVNode"])("tbody",null,[e.isLoadingData?(Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],{key:0},Object(o["renderList"])(10,e=>Object(o["createVNode"])(f)),64)):Object(o["createCommentVNode"])("",!0),(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.items,(t,c)=>(Object(o["openBlock"])(),Object(o["createBlock"])("tr",null,[Object(o["createVNode"])("th",O,Object(o["toDisplayString"])(t.id),1),Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(t.name),1),Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(t.frequency)+" min.",1),Object(o["createVNode"])("td",null,[Object(o["createVNode"])(g,{onClick:t=>e.switchBoto(c),"true-value":"ON","false-value":"OFF",modelValue:e.items[c].status,"onUpdate:modelValue":t=>e.items[c].status=t},null,8,["onClick","modelValue","onUpdate:modelValue"])]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{onClick:c=>e.gotoBoto(t.id)},"Details",8,["onClick"])])]))),256))])])])):Object(o["createCommentVNode"])("",!0)])]),e.error?(Object(o["openBlock"])(),Object(o["createBlock"])("div",p," Error: "+Object(o["toDisplayString"])(e.errorText),1)):Object(o["createCommentVNode"])("",!0)])])]),_:1})}var g=c("9ab4"),j=c("96cd");const m={scope:"row"},v={class:"p__placeholder"},k={class:"p__placeholder"},V={class:"p__placeholder"},y={class:"p__placeholder"},N={class:"p__placeholder"};function w(e,t){const c=Object(o["resolveComponent"])("Skeletor");return Object(o["openBlock"])(),Object(o["createBlock"])("tr",null,[Object(o["createVNode"])("th",m,[Object(o["createVNode"])("p",v,[Object(o["createVNode"])(c,{height:"12"})])]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("p",k,[Object(o["createVNode"])(c,{height:"12"})])]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("p",V,[Object(o["createVNode"])(c,{height:"12"})])]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("p",y,[Object(o["createVNode"])(c,{height:"12"})])]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("p",N,[Object(o["createVNode"])(c,{height:"12"})])])])}var B=c("df33"),S={name:"BotosRowPlaceHolderComponent",components:{Skeletor:B["a"]}};c("edc0");S.render=w;var D=S,C=c("f1e8");function L(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,o)}return c}function q(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}function x(e,t,c){var a=Object(o["toRefs"])(e),n=a.disabled.value,r=function(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?L(Object(c),!0).forEach((function(t){q(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):L(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}({container:"toggle-container",toggle:"toggle",toggleOn:"toggle-on",toggleOff:"toggle-off",toggleOnDisabled:"toggle-on-disabled",toggleOffDisabled:"toggle-off-disabled",handle:"toggle-handle",handleOn:"toggle-handle-on",handleOff:"toggle-handle-off",handleOnDisabled:"toggle-handle-on-disabled",handleOffDisabled:"toggle-handle-off-disabled",label:"toggle-label"},a.classes.value),l=c.checked;return{classList:Object(o["computed"])((function(){return{container:r.container,toggle:[r.toggle,n?l.value?r.toggleOnDisabled:r.toggleOffDisabled:l.value?r.toggleOn:r.toggleOff],handle:[r.handle,n?l.value?r.handleOnDisabled:r.handleOffDisabled:l.value?r.handleOn:r.handleOff],label:r.label}}))}}var T={name:"Toggle",emits:["input","update:modelValue","change"],props:{value:{validator:function(e){return e=>-1!==["number","string","boolean"].indexOf(typeof e)||null==e},required:!1},modelValue:{validator:function(e){return e=>-1!==["number","string","boolean"].indexOf(typeof e)||null==e},required:!1},id:{type:[String,Number],required:!1,default:"toggle"},name:{type:[String,Number],required:!1,default:"toggle"},disabled:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},falseValue:{type:[String,Number,Boolean],required:!1,default:!1},trueValue:{type:[String,Number,Boolean],required:!1,default:!0},onLabel:{type:[String,Object],required:!1,default:""},offLabel:{type:[String,Object],required:!1,default:""},classes:{type:Object,required:!1,default:()=>({})},labelledby:{type:String,required:!1},describedby:{type:String,required:!1}},setup(e,t){const c=function(e,t,c){var a=Object(o["toRefs"])(e),n=a.value,r=a.modelValue,l=a.falseValue,d=a.trueValue,i=a.disabled,u=void 0!==t.expose?r:n,s=Object(o["computed"])((function(){return u.value===d.value})),b=function(e){t.emit("input",e),t.emit("update:modelValue",e),t.emit("change",e)},h=function(){b(d.value)},O=function(){b(l.value)};return-1!==[null,void 0,!1,0,"0","off"].indexOf(u.value)&&u.value!==l.value&&O(),-1!==[!0,1,"1","on"].indexOf(u.value)&&u.value!==d.value&&h(),{externalValue:u,checked:s,update:b,check:h,uncheck:O,handleInput:function(e){b(e.target.checked?d.value:l.value)},handleClick:function(){i.value||(s.value?O():h())}}}(e,t),a=function(e,t,c){var a=Object(o["toRefs"])(e),n=a.trueValue,r=a.falseValue,l=a.onLabel,d=a.offLabel,i=c.checked,u=c.update;return{label:Object(o["computed"])((function(){var e=i.value?l.value:d.value;return e||(e="&nbsp;"),e})),toggle:function(){u(i.value?r.value:n.value)},on:function(){u(n.value)},off:function(){u(r.value)}}}(e,0,{checked:c.checked,update:c.update}),n=x(e,0,{checked:c.checked}),r=(l={check:c.check,uncheck:c.uncheck,checked:c.checked},d=l.check,i=l.uncheck,u=l.checked,{handleSpace:function(){u.value?i():d()}});var l,d,i,u;return{...c,...n,...a,...r}},render:function(e,t,c,a,n,r){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:e.classList.container,tabindex:c.disabled?-1:0,"aria-checked":e.checked,"aria-describedby":c.describedby,"aria-labelledby":c.labelledby,role:"switch",onKeyup:t[2]||(t[2]=Object(o["withKeys"])((...t)=>e.handleSpace&&e.handleSpace(...t),["space"]))},[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"checkbox",id:c.id,name:c.name,value:c.trueValue,checked:e.checked,disabled:c.disabled},null,8,["id","name","value","checked","disabled"]),[[o["vShow"],!1]]),Object(o["createVNode"])("div",{class:e.classList.toggle,onClick:t[1]||(t[1]=(...t)=>e.handleClick&&e.handleClick(...t))},[Object(o["createVNode"])("span",{class:e.classList.handle},null,2),Object(o["renderSlot"])(e.$slots,"label",{checked:e.checked,classList:e.classList},()=>[Object(o["createVNode"])("span",{class:e.classList.label,innerHTML:e.label},null,10,["innerHTML"])]),c.required?(Object(o["openBlock"])(),Object(o["createBlock"])("input",{key:0,type:"checkbox",style:{appearance:"none",height:"1px",margin:"0",padding:"0",fontSize:"0",background:"transparent",position:"absolute",width:"100%",bottom:"0",outline:"none"},checked:e.checked,"aria-hidden":"true",tabindex:"-1",required:""},null,8,["checked"])):Object(o["createCommentVNode"])("v-if",!0)],2)],42,["tabindex","aria-checked","aria-describedby","aria-labelledby"])},__file:"src/Toggle.vue"},_=T,P=c("5502"),A=[],F=Object(o["defineComponent"])({name:"Botos",components:{AdminLayout:j["a"],BotosRowPlaceHolder:D,Toggle:_},setup:function(){var e=Object(P["b"])();return{store:e}},data:function(){return{items:A,isLoadingData:!1,errorText:"",error:!1}},mounted:function(){return Object(g["b"])(this,void 0,void 0,(function(){var e,t;return Object(g["c"])(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,3,4]),this.isLoadingData=!0,[4,this.getBotos()];case 1:return e=c.sent(),this.items=e,[3,4];case 2:return t=c.sent(),this.error=!0,this.errorText=t,[3,4];case 3:return this.isLoadingData=!1,[7];case 4:return[2]}}))}))},methods:{getBotos:function(){return Object(g["b"])(this,void 0,void 0,(function(){var e,t;return Object(g["c"])(this,(function(c){switch(c.label){case 0:return[4,fetch("https://botoapp.io/api/my/bots/",{cache:"no-store",headers:{"Content-Type":"application/json",Authorization:"Token "+this.store.getters.localStorageAuthToken}})];case 1:return e=c.sent(),[4,e.json()];case 2:return t=c.sent(),[2,t]}}))}))},switchBoto:function(e){return Object(g["b"])(this,void 0,void 0,(function(){var t,c,o,a,n,r,l,d;return Object(g["c"])(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t=this.items[e].status,c=this.items[e].name,o=new Headers,a=new FormData,n="https://botoapp.io/api/bot/"+this.items[e].id+"/",a.append("name",c),a.append("status",t),a.append("frequency",this.items[e].frequency.toString()),r={method:"PUT",headers:o,body:a},o.append("Authorization","Token "+this.store.getters.localStorageAuthToken),[4,fetch(n,r)];case 1:if(l=i.sent(),!l.ok)throw new Error("An error has occured: "+l.status);return[3,3];case 2:return d=i.sent(),console.error(d),[3,3];case 3:return[2]}}))}))},gotoBoto:function(e){C["a"].push({name:"home.editor",params:{id:e}})}}});c("e2a7"),c("0e44");F.render=f;t["default"]=F},9067:function(e,t,c){},e2a7:function(e,t,c){"use strict";c("050c")},edc0:function(e,t,c){"use strict";c("9067")}}]);
//# sourceMappingURL=chunk-5705d44f-legacy.9c49684c.js.map