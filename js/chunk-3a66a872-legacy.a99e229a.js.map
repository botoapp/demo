{"version":3,"sources":["webpack:///./src/layouts/External/External.css","webpack:///./src/modules/External/Slack/Slack.css?d4e7","webpack:///./src/modules/External/Slack/Slack.html","webpack:///./src/layouts/External/External.html","webpack:///./src/layouts/External/External.ts","webpack:///./src/layouts/External/index.vue","webpack:///./src/modules/External/Slack/Slack.ts","webpack:///./src/modules/External/Slack/index.vue"],"names":["class","src","context","render","__scopeId","name","components","ExternalLayout","data","pars","mounted","code","this","$route","query","Error","formdata","FormData","append","toString","routes","push","params","actionOutcome","actionMessage","e"],"mappings":"kHAAA,W,2DCAA,W,oECAKA,MAAM,2E,gDAAX,yBAEM,MAFN,EAEM,CADF,yBAAwC,OAAlCC,IAAQC,UAAL,mB,2ICDRF,MAAM,W,GACFA,MAAM,Q,GACDA,MAAM,W,GACHA,MAAM,6B,GACFA,MAAM,0B,qEAJ3B,yBAUM,MAVN,EAUM,CATF,yBAQM,MARN,EAQM,CAPF,yBAMO,OANP,EAMO,CALH,yBAIM,MAJN,EAIM,CAHF,yBAEM,MAFN,EAEM,CADF,wBAAQ,6CCJb,mCAAgB,I,UCI/B,EAAOG,OAAS,EAChB,EAAOC,UAAY,kBAEJ,Q,YCFA,+BAAgB,CAC7BC,KAAM,QACNC,WAAY,CACVC,eAAc,GAEhBC,KAAI,WACF,MAAO,CACLN,QAAS,SACTO,KAAM,KAGJC,QAAN,W,qGACE,IAEE,GADMC,EAAOC,KAAKC,OAAOC,MAAMH,MAC3BA,EAsBF,MAAM,IAAII,MAAM,6BArBJ,sCACNC,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQP,EAAKQ,YAW7BC,EAAA,KAAOC,KAAK,CACVhB,KAAM,oBACNiB,OAAQ,CACNC,cAAe,UACfC,cAAe,sDAMrB,MAAOC,GACPL,EAAA,KAAOC,KAAK,CACVhB,KAAM,oBACNiB,OAAQ,CAAEC,cAAe,QAASC,cAAeC,EAAEN,c,6BC1C3D,EAAOhB,OAASA,EAED,gB","file":"js/chunk-3a66a872-legacy.a99e229a.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./External.css?vue&type=style&index=0&id=bb137160&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./Slack.css?vue&type=style&index=0&lang=css\"","<div class=\"d-flex flex-column min-vh-100 justify-content-center align-items-center\">\n    <img :src=\"`${context}img/loading.svg`\">\n</div>","<div class=\"wrapper\">\n    <div class=\"main\">\n        <main class=\"content\">\n            <div class=\"container-fluid p-0 h-100\">\n                <div class=\"row mb-2 mb-xl-3 h-100\">\n                    <slot />\n                </div>\n            </div>\n        </main>\n    </div>\n</div>","import { defineComponent } from \"vue\";\nexport default defineComponent({});\n","import { render } from \"./External.html?vue&type=template&id=bb137160&scoped=true\"\nimport script from \"./External.ts?vue&type=script&lang=ts\"\nexport * from \"./External.ts?vue&type=script&lang=ts\"\n\nimport \"./External.css?vue&type=style&index=0&id=bb137160&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-bb137160\"\n\nexport default script","import { defineComponent } from \"vue\";\nimport ExternalLayout from \"@/layouts/External/index.vue\";\nimport routes from \"@/routes\";\nimport HttpClient from \"@/util/HttpClient\";\nimport { HttpRequestMethod } from \"@/enums/HttpRequestMethod\";\n\nexport default defineComponent({\n  name: \"Slack\",\n  components: {\n    ExternalLayout,\n  },\n  data() {\n    return {\n      context: process.env.VUE_APP_CONTEXT,\n      pars: \"\",\n    };\n  },\n  async mounted() {\n    try {\n      const code = this.$route.query.code;\n      if (code) {\n        const url = `https://${process.env.VUE_APP_BOTO_API_DOMAIN}/app/slack/oauth/`;\n        const formdata = new FormData();\n        formdata.append(\"code\", code.toString());\n        // const response = await HttpClient.request(\n        //   url,\n        //   null,\n        //   HttpRequestMethod.POST,\n        //   formdata,\n        //   true\n        // );\n        // if (!response.ok) {\n        //   throw new Error(`${response.message} (${response[\"slack-message\"]})`);\n        // }\n        routes.push({\n          name: \"home.integrations\",\n          params: {\n            actionOutcome: \"success\",\n            actionMessage: \"Success! You can now use Slack in your Botos :-)\",\n          },\n        });\n      } else {\n        throw new Error(\"Could not authorize Slack\");\n      }\n    } catch (e: any) {\n      routes.push({\n        name: \"home.integrations\",\n        params: { actionOutcome: \"error\", actionMessage: e.toString() },\n      });\n    }\n  },\n});\n","import { render } from \"./Slack.html?vue&type=template&id=4a9ab058\"\nimport script from \"./Slack.ts?vue&type=script&lang=ts\"\nexport * from \"./Slack.ts?vue&type=script&lang=ts\"\n\nimport \"./Slack.css?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}